<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

<title>êµ­ê³¼ì—°íŠ¹íŒ | ë³µì§€ê´€2ì¸µë§¤ì¥</title>
<meta name="description" content="êµ­ê³¼ì—°íŠ¹íŒ Â· ë³µì§€ê´€2ì¸µë§¤ì¥ íŠ¹ê°€í°/ì•Œëœ°ìš”ê¸ˆ/ì¸í„°ë„·TV ì•ˆë‚´. ì¹´í†¡ë¬¸ì˜ë¡œ ë¹ ë¥´ê²Œ ìƒë‹´ ê°€ëŠ¥í•©ë‹ˆë‹¤." />
<link rel="canonical" href="https://a2272a.github.io/" />
<meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />

<meta property="og:type" content="website" />
<meta property="og:title" content="êµ­ê³¼ì—°íŠ¹íŒ | ë³µì§€ê´€2ì¸µë§¤ì¥" />
<meta property="og:description" content="êµ­ê³¼ì—°íŠ¹íŒ Â· íŠ¹ê°€í°/ì•Œëœ°ìš”ê¸ˆ/ì¸í„°ë„·TV ì•ˆë‚´. ì¹´í†¡ë¬¸ì˜ë¡œ ë¹ ë¥´ê²Œ ìƒë‹´." />
<meta property="og:url" content="https://a2272a.github.io/" />
<meta name="twitter:card" content="summary" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "êµ­ê³¼ì—°íŠ¹íŒ ë³µì§€ê´€2ì¸µë§¤ì¥",
  "url": "https://a2272a.github.io/",
  "telephone": "+82-42-821-2272",
  "description": "êµ­ê³¼ì—°íŠ¹íŒ Â· ë³µì§€ê´€2ì¸µë§¤ì¥ íŠ¹ê°€í°/ì•Œëœ°ìš”ê¸ˆ/ì¸í„°ë„·TV ì•ˆë‚´. ì¹´í†¡ë¬¸ì˜ë¡œ ìƒë‹´.",
  "sameAs": ["https://open.kakao.com/o/s729bI5h"]
}
</script>

<style>
:root{
  --bg:#f5f6f8; --card:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e5e7eb;
  --sk:#2563eb; --kt:#111827; --lg:#16a34a; --hot:#f97316; --low:#7c3aed;
  --call:#22c55e; --sms:#38bdf8; --kakao:#fee500;

  --ledBg:#070b12; --ledBg2:#0b1220; --ledBorder:rgba(255,255,255,.14);
  --ledGlow1:rgba(0,255,180,.35); --ledGlow2:rgba(255,60,60,.25);
  --ledText:#f8fffc; --ledText2:#b6ffcf;
}
*{box-sizing:border-box;}
html,body{margin:0;padding:0;}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",system-ui,sans-serif;
  background:var(--bg); color:var(--ink);
}
.wrap{max-width:760px;margin:0 auto;padding:14px 14px 190px;}

/* hero */
.hero{
  border-radius:18px;
  overflow:hidden;
  position:relative;
  background:
    radial-gradient(900px 160px at 50% 0%, rgba(0,255,180,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.05) 0%, rgba(0,0,0,.22) 100%),
    linear-gradient(90deg, var(--ledBg) 0%, var(--ledBg2) 50%, var(--ledBg) 100%);
  border:1px solid var(--ledBorder);
  box-shadow:0 14px 34px rgba(0,0,0,.18), 0 0 0 2px rgba(255,255,255,.10);
}
.heroMarquee2{min-height:52px;display:flex;align-items:center;padding:10px 12px;position:relative;}
.heroMarquee2::before{
  content:"";position:absolute; inset:0;
  background: radial-gradient(circle, rgba(255,255,255,.08) 1px, transparent 1.9px);
  background-size: 8px 8px;opacity:.22;pointer-events:none;
}
.marqueeLine{
  width:100%;height:36px;display:flex;align-items:center;justify-content:center;overflow:hidden;
  padding:0 10px;border-radius:14px;background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);box-shadow: inset 0 12px 20px rgba(0,0,0,.34);
}
.marqueeInner{display:flex;width:100%;justify-content:center;white-space:nowrap;align-items:center;}
.marqueeInner span{
  font-size:18px;font-weight:1000;letter-spacing:-.6px;color:var(--ledText);
  text-shadow:0 0 10px rgba(0,255,180,.55), 0 0 18px rgba(0,255,180,.32), 0 2px 14px rgba(0,0,0,.85);
}

/* tabs */
.tabs{display:flex;gap:8px;margin-top:12px;}
.tabBtn{
  flex:1;padding:12px 0;border-radius:999px;border:1px solid var(--line);
  background:#fff;font-weight:1000;font-size:14px;cursor:pointer;
}
.tabBtn.active{color:#fff;border-color:transparent;}
.tabBtn.sk.active{background:var(--sk);}
.tabBtn.kt.active{background:var(--kt);}
.tabBtn.lg.active{background:var(--lg);}
.tabBtn.svc{font-size:15px;font-weight:1000;}
.tabBtn.svc.mvno.active{background:var(--lg);}
.tabBtn.svc.internet.active{background:var(--kt);}
.tabBtn.svc.notice.active{background:var(--sk);}

.panel{margin-top:14px;background:#fff;border:1px solid var(--line);border-radius:16px;padding:14px;}
.subTabs{display:none;gap:8px;margin:0 0 12px;}
.subTabs.show{ display:flex; }
.subTabBtn{
  flex:1;padding:10px 0;border-radius:999px;border:1px solid var(--line);
  background:#fff;font-weight:1000;font-size:14px;cursor:pointer;
}
.subTabBtn.active{ color:#fff; border-color:transparent; }
.subTabBtn.sk.active{ background:var(--sk); }
.subTabBtn.kt.active{ background:var(--kt); }
.subTabBtn.lg.active{ background:var(--lg); }

.list{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:10px;}
@media (max-width: 420px){ .list{ grid-template-columns:1fr; } }

.card{border:1px solid var(--line);border-radius:14px;padding:12px;box-shadow:0 2px 10px rgba(0,0,0,.05);}
.titleRow{display:flex;justify-content:space-between;margin-bottom:8px;gap:10px;align-items:center;}
.model{font-weight:1000;font-size:16px;letter-spacing:-.2px;}
.badge{font-size:12px;font-weight:1000;padding:6px 10px;border-radius:999px;color:#fff;white-space:nowrap;}
.badge.sk{background:var(--sk);} .badge.kt{background:var(--kt);} .badge.lg{background:var(--lg);}
.badge.hot{background:var(--hot);} .badge.low{background:var(--low);}

.infoLine{font-size:12px;font-weight:1000;color:var(--muted);margin:0 0 6px;}
.discountLine{font-size:12px;font-weight:1000;color:#2563eb;margin:0 0 8px;}

.priceRow{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:10px;}
.priceRow.one{ grid-template-columns:1fr; }

.pill{border:1px solid var(--line);border-radius:12px;padding:10px;text-align:center;background:#fafafa;min-width:0;}
.pill .k{font-size:12px;color:var(--muted);font-weight:1000;margin-bottom:4px;}
.pill .v{font-size:20px;font-weight:1000;letter-spacing:-.4px;}
.neg{color:#dc2626;} .zero{color:#0ea5e9;} .pos{color:#0f172a;}

.planLine{font-size:13px;font-weight:1000;letter-spacing:-.2px;margin:0 0 8px;color:#0f172a;line-height:1.25;}
.moneyRow{display:flex;justify-content:space-between;align-items:baseline;gap:10px;}
.moneyRow .label{font-size:12px;font-weight:1000;color:var(--muted);}
.moneyRow .val{font-size:22px;font-weight:1000;letter-spacing:-.4px;color:#0f172a;}
.moneyRow .val2{font-size:19px;font-weight:1000;letter-spacing:-.4px;color:#0f172a;}

.loading{grid-column:1/-1;padding:18px;text-align:center;font-weight:1000;color:#64748b;}

/* notice card */
.noticeCard{
  grid-column:1/-1;
  padding:10px 12px;
  border-radius:14px;
  background: linear-gradient(180deg, rgba(15,23,42,.04), rgba(15,23,42,.02));
}
.noticeCard .row{display:flex; align-items:center; justify-content:space-between; gap:10px;}
.noticeCard .twrap{display:flex;flex-direction:column;gap:4px;}
.noticeCard .t1{font-size:13px;font-weight:1000;letter-spacing:-.2px;color:#0f172a;line-height:1.2;}
.noticeCard .t2{font-size:12px;font-weight:1000;letter-spacing:-.2px;color:var(--muted);line-height:1.2;}
.noticeCard a{
  flex:0 0 auto;
  text-decoration:none;font-weight:1000;font-size:13px;padding:8px 10px;border-radius:12px;
  background:rgba(254,229,0,.35);border:1px solid rgba(254,229,0,.55);color:#3b2f00;
}

/* addon card (í° ê¸€ì”¨) */
.addonCard{
  grid-column:1/-1;
  padding:14px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.12);
  background: linear-gradient(180deg, rgba(15,23,42,.03), rgba(15,23,42,.015));
}
.addonHead{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  cursor:pointer; user-select:none;
}
.addonTitle{font-size:16px;font-weight:1000;letter-spacing:-.2px;color:#0f172a;}
.addonPill{
  font-size:13px;font-weight:1000;
  padding:7px 11px;border-radius:999px;color:#fff;white-space:nowrap;
}
.addonPill.sk{background:var(--sk);} .addonPill.kt{background:var(--kt);} .addonPill.lg{background:var(--lg);}
.addonBtn{
  border:1px solid rgba(15,23,42,.14);
  background:#fff;
  padding:10px 12px;border-radius:12px;
  font-weight:1000;font-size:14px;cursor:pointer;
}
.addonBody{ margin-top:12px; display:none; }
.addonBody.show{display:block;}
.addonList{margin:0;padding-left:18px;}
.addonList li{
  margin:10px 0;font-size:15px;font-weight:1000;color:#0f172a;line-height:1.25;
}
.addonList .sub{
  margin-top:4px;font-size:14px;font-weight:1000;color:var(--muted);
}

/* notice content */
.noticeImg{
  width:100%;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  display:block;
  margin:10px 0 8px;
}
.noticeDesc{margin:0;font-size:13px;font-weight:1000;color:#0f172a;line-height:1.35;}
.noticeDate{font-size:12px;font-weight:1000;color:var(--muted);margin:6px 0 0;}

/* bottom dock */
.bottomDock{
  position:fixed;left:12px;right:12px;bottom:calc(10px + env(safe-area-inset-bottom));
  height:60px;padding:8px;display:flex;gap:10px;border-radius:18px;
  background:rgba(255,255,255,.88);border:1px solid rgba(15,23,42,.10);
  box-shadow:0 14px 34px rgba(15,23,42,.14);backdrop-filter: blur(10px) saturate(160%);
  z-index:999;
}
.dockBtn{
  flex:1;display:flex;align-items:center;justify-content:center;gap:8px;border-radius:14px;
  text-decoration:none;font-weight:1000;font-size:16px;letter-spacing:-.2px;
  border:1px solid rgba(15,23,42,.10);background:#fff;color:#0f172a;
  box-shadow:0 8px 18px rgba(15,23,42,.08);
  transform: translateY(0);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.dockBtn:active{transform: translateY(1px);box-shadow:0 6px 14px rgba(15,23,42,.10);filter: brightness(.98);}
.dockBtn svg{width:20px;height:20px;stroke: currentColor;stroke-width:2.4;fill:none;stroke-linecap:round;stroke-linejoin:round;}
.dockBtn.call{background:rgba(34,197,94,.12);border-color:rgba(34,197,94,.22);color:#0b3a22;}
.dockBtn.sms{background:rgba(56,189,248,.12);border-color:rgba(56,189,248,.22);color:#083244;}
.dockBtn.kakao{background:rgba(254,229,0,.35);border-color:rgba(254,229,0,.55);color:#3b2f00;}
@media (prefers-reduced-motion: reduce){ .dockBtn{transition:none!important;} }

/* =========================
   Admin UI (ê³µì§€ì‘ì„± + data.csv ìƒˆë¡œê³ ì¹¨)
   ========================= */
.adminFab{
  position:fixed; left:12px;
  bottom: calc(78px + env(safe-area-inset-bottom));
  z-index: 2001;
  display:none;
  gap:8px;
}
.adminFab button{
  border:1px solid rgba(15,23,42,.14);
  background:#111827;
  color:#fff;
  padding:12px 14px;
  border-radius:14px;
  font-weight:1000;
  font-size:14px;
  cursor:pointer;
  box-shadow:0 14px 34px rgba(15,23,42,.18);
}

.modalMask{
  position:fixed; inset:0;
  background:rgba(15,23,42,.55);
  backdrop-filter: blur(6px) saturate(140%);
  z-index: 3000;
  display:none;
}
.modal{
  position:fixed;
  left:12px; right:12px;
  top: calc(12px + env(safe-area-inset-top));
  bottom: calc(12px + env(safe-area-inset-bottom));
  z-index: 3001;
  display:none;
}
.modalCard{
  height:100%;
  background:#fff;
  border-radius:18px;
  border:1px solid rgba(15,23,42,.12);
  box-shadow:0 18px 55px rgba(0,0,0,.25);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.modalHead{
  padding:14px;
  border-bottom:1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.modalTitle{font-size:16px;font-weight:1000;color:#0f172a;}
.modalClose{
  border:1px solid rgba(15,23,42,.14);
  background:#fff;
  padding:10px 12px;
  border-radius:12px;
  font-weight:1000;
  font-size:14px;
  cursor:pointer;
}
.modalBody{
  padding:14px;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.fieldLabel{font-size:12px;font-weight:1000;color:var(--muted);margin:0;}
.inp, .ta{
  width:100%;
  border:1px solid rgba(15,23,42,.14);
  border-radius:14px;
  padding:12px;
  font-size:14px;
  font-weight:1000;
  outline:none;
}
.ta{min-height:140px; resize:vertical; line-height:1.35;}
.dropZone{
  border:2px dashed rgba(15,23,42,.18);
  border-radius:16px;
  background:linear-gradient(180deg, rgba(15,23,42,.03), rgba(15,23,42,.015));
  padding:14px;
  text-align:center;
  font-weight:1000;
  color:#0f172a;
}
.dropZone.drag{
  border-color: rgba(34,197,94,.55);
  box-shadow:0 0 0 3px rgba(34,197,94,.18);
}
.previewImg{
  width:100%;
  border-radius:16px;
  border:1px solid rgba(15,23,42,.10);
  display:block;
  margin-top:10px;
}
.modalFoot{
  padding:14px;
  border-top:1px solid rgba(15,23,42,.10);
  display:flex;
  gap:10px;
}
.btn{
  flex:1;
  padding:12px;
  border-radius:14px;
  font-weight:1000;
  font-size:14px;
  cursor:pointer;
  border:1px solid rgba(15,23,42,.14);
  background:#fff;
}
.btn.primary{
  background:#111827;
  color:#fff;
  border-color:#111827;
}
.hint{font-size:12px;font-weight:1000;color:var(--muted);line-height:1.35;}
</style>
</head>

<body>
<div class="wrap">

  <!-- LED ê³µì§€ -->
  <div class="hero" aria-label="ê³µì§€">
    <div class="heroMarquee2">
      <div class="marqueeLine" style="border-color:rgba(0,255,180,.22); box-shadow: inset 0 12px 20px rgba(0,0,0,.34), 0 0 0 2px rgba(0,255,180,.10), 0 0 18px rgba(0,255,180,.18);">
        <div class="marqueeInner">
          <span style="text-shadow:0 0 12px rgba(0,255,180,.70), 0 0 26px rgba(0,255,180,.40), 0 2px 14px rgba(0,0,0,.85);">
            ì‹œì„¸í‘œëŠ” í‰ì¼(ì›”~ê¸ˆ) 12ì‹œ ì „í›„ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- ì„œë¹„ìŠ¤ íƒ­ -->
  <div class="tabs" id="serviceTabs" aria-label="ì„œë¹„ìŠ¤ íƒ­">
    <button class="tabBtn svc mvno" data-mode="MVNO">ì•Œëœ°ìš”ê¸ˆ</button>
    <button class="tabBtn svc internet" data-mode="INTERNET">ì¸í„°ë„·TV</button>
    <button class="tabBtn svc notice" data-mode="NOTICE">ê³µì§€</button>
  </div>

  <!-- íœ´ëŒ€í° íƒ­ (íŠ¹ê°€ ì œê±°: SK/KT/LGë§Œ) -->
  <div class="tabs" id="phoneTabs" aria-label="íœ´ëŒ€í° íƒ­">
    <button class="tabBtn sk active" data-tab="SK">SK</button>
    <button class="tabBtn kt" data-tab="KT">KT</button>
    <button class="tabBtn lg" data-tab="LG">LG</button>
  </div>

  <div class="panel">
    <div class="subTabs" id="mvnoTabs" aria-label="ì•Œëœ°ìš”ê¸ˆ ë§ ì„œë¸Œíƒ­">
      <button class="subTabBtn sk" data-mvno="SK">SKë§</button>
      <button class="subTabBtn kt" data-mvno="KT">KTë§</button>
      <button class="subTabBtn lg" data-mvno="LG">LGë§</button>
    </div>

    <div class="subTabs" id="internetTabs" aria-label="ì¸í„°ë„·TV í†µì‹ ì‚¬ ì„œë¸Œíƒ­">
      <button class="subTabBtn sk" data-inet="SK">SK</button>
      <button class="subTabBtn kt" data-inet="KT">KT</button>
      <button class="subTabBtn lg" data-inet="LG">LG</button>
    </div>

    <div class="list" id="list"></div>
  </div>
</div>

<!-- ê´€ë¦¬ì ì „ìš© ë²„íŠ¼ (ê³ ê° ìˆ¨ê¹€) -->
<div class="adminFab" id="adminFab">
  <button type="button" id="btnCsvRefresh">data.csv ìƒˆë¡œê³ ì¹¨</button>
  <button type="button" id="btnOpenNotice">ê³µì§€ ì‘ì„±</button>
</div>

<!-- ê´€ë¦¬ì ì „ìš©: ê³µì§€ ì‘ì„± ëª¨ë‹¬ -->
<div class="modalMask" id="noticeMask"></div>
<div class="modal" id="noticeModal" role="dialog" aria-modal="true" aria-label="ê³µì§€ ì‘ì„±">
  <div class="modalCard">
    <div class="modalHead">
      <div class="modalTitle">ê³µì§€ ì‘ì„± (ë“œë˜ê·¸/ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥)</div>
      <button class="modalClose" type="button" id="btnCloseNotice">ë‹«ê¸°</button>
    </div>

    <div class="modalBody">
      <p class="fieldLabel">GitHub Token (Fine-grained PAT)</p>
      <input class="inp" id="ghToken" placeholder="í† í°ì„ ë¶™ì—¬ë„£ê¸° (ê´€ë¦¬ìë§Œ)" />

      <label class="hint" style="display:flex;gap:8px;align-items:center;margin-top:2px;">
        <input type="checkbox" id="saveTokenChk" />
        ì´ ë¸Œë¼ìš°ì €ì— í† í° ì €ì¥(ê´€ë¦¬ì PCì—ì„œë§Œ)
      </label>

      <hr style="border:0;border-top:1px solid rgba(15,23,42,.10);width:100%;">

      <p class="fieldLabel">ì œëª©</p>
      <input class="inp" id="nTitle" placeholder="ì˜ˆ: ğŸ“Œ ì˜¤ëŠ˜ ì‹œì„¸í‘œ ì—…ë°ì´íŠ¸" />

      <p class="fieldLabel">ë‚´ìš©</p>
      <textarea class="ta" id="nDesc" placeholder="ì˜ˆ: SK/KT/LG ë³€ë™ ìˆìŒ&#10;ë¬¸ì˜ëŠ” ì¹´í†¡ ë¶€íƒë“œë¦½ë‹ˆë‹¤"></textarea>

      <p class="fieldLabel">ì´ë¯¸ì§€ (ì„ íƒ)</p>
      <div class="dropZone" id="dropZone">
        ì—¬ê¸°ì— ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸&ë“œë¡­ í•˜ê±°ë‚˜,<br>
        ìº¡ì²˜ í›„ Ctrl+Vë¡œ ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.<br><br>
        <button type="button" class="btn" id="btnPickImg" style="display:inline-block;flex:0 0 auto;">íŒŒì¼ ì„ íƒ</button>
        <input type="file" id="imgFile" accept="image/*" style="display:none;">
        <img id="imgPreview" class="previewImg" alt="ê³µì§€ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°" style="display:none;">
      </div>

      <div class="hint" id="imgHint" style="margin-top:8px;">ì´ë¯¸ì§€ ì—†ì´ë„ ì €ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
      <div class="hint" style="margin-top:10px;">
        ì €ì¥í•˜ë©´ notice.json + notice-images/ì— ìë™ ì—…ë¡œë“œë©ë‹ˆë‹¤.
      </div>
    </div>

    <div class="modalFoot">
      <button class="btn" type="button" id="btnClearNotice">ì´ˆê¸°í™”</button>
      <button class="btn primary" type="button" id="btnSaveNotice">ì €ì¥</button>
    </div>
  </div>
</div>

<div class="bottomDock" role="navigation" aria-label="ë¹ ë¥¸ ì—°ë½">
  <a class="dockBtn call" href="tel:042-821-2272" aria-label="ì „í™”">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h3a2 2 0 0 1 2 1.72c.12.9.32 1.77.6 2.6a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.48-1.12a2 2 0 0 1 2.11-.45c.83.28 1.7.48 2.6.6A2 2 0 0 1 22 16.92z"/>
    </svg>
    <span>ì „í™”</span>
  </a>

  <a class="dockBtn sms" href="sms:010-5839-1512" aria-label="ë¬¸ì">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M21 15a4 4 0 0 1-4 4H8l-5 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
      <path d="M8 10h8"/>
      <path d="M8 14h5"/>
    </svg>
    <span>ë¬¸ì</span>
  </a>

  <a class="dockBtn kakao" href="https://open.kakao.com/o/s729bI5h" target="_blank" rel="noopener" aria-label="ì¹´í†¡">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M20 11c0 3.87-3.58 7-8 7a9.8 9.8 0 0 1-2.5-.33L4 20l1.66-4.15A6.3 6.3 0 0 1 4 11c0-3.87 3.58-7 8-7s8 3.13 8 7z"/>
      <path d="M9 11h.01"/>
      <path d="M12 11h.01"/>
      <path d="M15 11h.01"/>
    </svg>
    <span>ì¹´í†¡</span>
  </a>
</div>

<script>
const list = document.getElementById("list");
const phoneTabsEl = document.getElementById("phoneTabs");
const serviceTabsEl = document.getElementById("serviceTabs");
const mvnoTabsEl = document.getElementById("mvnoTabs");
const internetTabsEl = document.getElementById("internetTabs");

const SITE_BASE = "https://a2272a.github.io";
const KAKAO_URL = "https://open.kakao.com/o/s729bI5h";

/* âœ… ê´€ë¦¬ì ê°ì§€ (?admin=1) */
const isAdmin = new URLSearchParams(location.search).get("admin") === "1";

/* âœ… ë²„ì „(ìºì‹œ ê¹¨ê¸°ìš©) */
let CSV_VER = "2025-12-23";
let NOTICE_VER = "2025-12-23";

let mode = "PHONE";
let lastPhoneTab = "SK";
let mvnoNet = "LG";
let inetCarrier = "SK";

/* âœ… ë¶€ê°€ì„œë¹„ìŠ¤ (KTì¹´ë“œ ì‚­ì œ ì™„ë£Œ) */
const ADDON = {
  SK: [
    { t:"ìš°ì£¼íŒ¨ìŠ¤+í”ŒëŸ¬ìŠ¤(ë¬´ë£Œ)", d:"6ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +3" },
    { t:"ë§ˆì´ìŠ¤ë§ˆíŠ¸ì½œ(3,500)", d:"3ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +2" },
    { t:"ë³´í—˜(ëª¨ë¸ë³„ ìƒì´)", d:"3ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +2" },
  ],
  KT: [
    { t:"í•„ìˆ˜íŒ©(9,900)", d:"4ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +5" },
    { t:"ë³´í—˜(ëª¨ë¸ë³„ ìƒì´)", d:"4ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +3" },
    { t:"í‹°ë¹™ ìŠ¤íƒ ë‹¤ë“œ+ë©”ê°€ì»¤í”¼(13,500)", d:"4ê°œì›” ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +5" }
  ],
  LG: [
    { t:"ìœ í”Œë ˆì´(15,400)", d:"95ì¼ ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +5" },
    { t:"Vì»¬+ìŒì•…(8,800)", d:"95ì¼ ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +5" },
    { t:"í°êµì²´ë³´í—˜(ëª¨ë¸ë³„ ìƒì´)", d:"95ì¼ ìœ ì§€ / ë¯¸ ê°€ì…ì‹œ +5" },
  ],
};

const asNum = (x) => {
  const s = String(x ?? "").replace(/\u2212/g, "-").replace(/,/g, "").trim();
  if (s === "") return null;
  const n = Number(s);
  return Number.isFinite(n) ? n : null;
};
const vClass = (n) => (n === null) ? "" : (n < 0 ? "neg" : (n === 0 ? "zero" : "pos"));
const showVal = (raw) => {
  const n = asNum(raw);
  if (n === null) return "";
  return String(raw).trim();
};
const limOf = (c) => (c==="SK") ? 109 : (c==="KT" ? 110 : 115);

const fixedInfoLine = (c) => {
  if (c === "SK") return "SK 109ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜";
  if (c === "KT") return "KT 110ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜";
  return "LG 115ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜";
};
const discountOf = (x) => String(x["ìš”ê¸ˆí• ì¸"] || "").trim().toUpperCase() === "O";

function clearList(){ list.innerHTML = ""; }
function showLoading(msg="ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦"){
  clearList();
  list.insertAdjacentHTML("beforeend", `<div class="loading">${msg}</div>`);
}

function setServiceActive(next){
  serviceTabsEl.querySelectorAll(".tabBtn").forEach(b => b.classList.remove("active"));
  if (!next) return;
  const el = serviceTabsEl.querySelector(`[data-mode="${next}"]`);
  if (el) el.classList.add("active");
}
function hideAllSubTabs(){
  mvnoTabsEl.classList.remove("show");
  internetTabsEl.classList.remove("show");
}
function showMvnoTabs(show){ show ? mvnoTabsEl.classList.add("show") : mvnoTabsEl.classList.remove("show"); }
function showInternetTabs(show){ show ? internetTabsEl.classList.add("show") : internetTabsEl.classList.remove("show"); }

function activatePhoneTab(tab){
  phoneTabsEl.querySelectorAll(".tabBtn").forEach(b=>{
    b.classList.toggle("active", b.dataset.tab === tab);
  });
  lastPhoneTab = tab;
}
function activateMvnoNet(net){
  mvnoNet = net;
  mvnoTabsEl.querySelectorAll(".subTabBtn").forEach(b=>{
    b.classList.toggle("active", b.dataset.mvno === net);
  });
}
function activateInetCarrier(c){
  inetCarrier = c;
  internetTabsEl.querySelectorAll(".subTabBtn").forEach(b=>{
    b.classList.toggle("active", b.dataset.inet === c);
  });
}

/* ë¶€ê°€ì„œë¹„ìŠ¤ ì¹´ë“œ */
function addAddonCard(carrier){
  const items = ADDON[carrier] || [];
  const pillClass = carrier === "SK" ? "sk" : (carrier === "KT" ? "kt" : "lg");

  const id = `addon_${carrier}`;
  const lis = items.map(x => `
    <li>
      ${x.t}
      <div class="sub">${x.d}</div>
    </li>
  `).join("");

  list.insertAdjacentHTML("beforeend", `
    <div class="card addonCard" id="${id}">
      <div class="addonHead" role="button" tabindex="0" aria-expanded="false">
        <div style="display:flex;align-items:center;gap:10px;min-width:0;">
          <span class="addonPill ${pillClass}">${carrier}</span>
          <span class="addonTitle">ë¶€ê°€ì„œë¹„ìŠ¤ ìœ ì§€ ì¡°ê±´</span>
        </div>
        <button class="addonBtn" type="button">í¼ì¹˜ê¸°</button>
      </div>
      <div class="addonBody">
        <ol class="addonList">${lis}</ol>
      </div>
    </div>
  `);

  const root = document.getElementById(id);
  const head = root.querySelector(".addonHead");
  const btn = root.querySelector(".addonBtn");
  const body = root.querySelector(".addonBody");

  const toggle = () => {
    const open = body.classList.toggle("show");
    head.setAttribute("aria-expanded", open ? "true" : "false");
    btn.textContent = open ? "ì ‘ê¸°" : "í¼ì¹˜ê¸°";
  };

  head.addEventListener("click", (e)=>{ if (e.target === btn) return; toggle(); });
  head.addEventListener("keydown", (e)=>{ if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggle(); } });
  btn.addEventListener("click", (e)=>{ e.preventDefault(); toggle(); });
}

/* íœ´ëŒ€í° ì¹´ë“œ */
function addPhoneCard({badgeText, badgeClass, model, move, change, infoText, discount}){
  const mvNum = asNum(move);
  const chNum = asNum(change);
  const hasMove = (move !== "");
  const hasChange = (change !== "");
  const rowClass = (hasMove && hasChange) ? "" : "one";

  list.insertAdjacentHTML("beforeend", `
    <div class="card">
      <div class="titleRow">
        <div class="model">${model}</div>
        <div class="badge ${badgeClass}">${badgeText}</div>
      </div>
      ${infoText ? `<p class="infoLine">${infoText}</p>` : ``}
      ${discount ? `<p class="discountLine">ìš”ê¸ˆí• ì¸ 25% ê°€ëŠ¥</p>` : ``}
      <div class="priceRow ${rowClass}">
        ${hasMove ? `
          <div class="pill">
            <div class="k">ì´ë™</div>
            <div class="v ${vClass(mvNum)}">${move}</div>
          </div>` : ``}
        ${hasChange ? `
          <div class="pill">
            <div class="k">ê¸°ë³€</div>
            <div class="v ${vClass(chNum)}">${change}</div>
          </div>` : ``}
      </div>
    </div>
  `);
}

function addSimpleCard({badgeText, badgeClass, line1, line2, price1Label, price1, price2Label, price2}){
  list.insertAdjacentHTML("beforeend", `
    <div class="card">
      <div class="titleRow">
        <div class="model">${line1}</div>
        <div class="badge ${badgeClass}">${badgeText}</div>
      </div>
      ${line2 ? `<p class="planLine">${line2}</p>` : ``}
      <div class="moneyRow">
        <div class="label">${price1Label}</div>
        <div class="val">${price1}</div>
      </div>
      ${price2 ? `
        <div class="moneyRow" style="margin-top:6px;">
          <div class="label">${price2Label}</div>
          <div class="val2">${price2}</div>
        </div>` : ``}
    </div>
  `);
}

function addCompactNoticeCard(){
  list.insertAdjacentHTML("beforeend", `
    <div class="card noticeCard">
      <div class="row">
        <div class="twrap">
          <div class="t1">ê°€ì…ë¹„Â·ìœ ì‹¬ë¹„ ë“± ì¶”ê°€ ìš”ê¸ˆ ì—†ìŒ</div>
          <div class="t2">ê¶ê¸ˆí•˜ì‹  ì ì€ ì¹´í†¡ë¬¸ì˜</div>
        </div>
        <a href="${KAKAO_URL}" target="_blank" rel="noopener">ì¹´í†¡ ì—´ê¸°</a>
      </div>
    </div>
  `);
}
function addInternetNoticeCard(){
  list.insertAdjacentHTML("beforeend", `
    <div class="card noticeCard">
      <div class="row">
        <div class="twrap">
          <div class="t1"><strong>í˜„ê¸ˆì§€ì›ê¸ˆ</strong> ì¹´í†¡ë¬¸ì˜</div>
          <div class="t2">ê¶ê¸ˆí•˜ì‹  ì ì€ ì¹´í†¡ë¬¸ì˜</div>
        </div>
        <a href="${KAKAO_URL}" target="_blank" rel="noopener">ì¹´í†¡ ì—´ê¸°</a>
      </div>
    </div>
  `);
}

/* ë°ì´í„°(ê¸°ì¡´ ê·¸ëŒ€ë¡œ) */
const INTERNET_TV = [
  {carrier:"SK", net:"100M", net2:"", tv:"ì—†ìŒ", monthly:"22,000", bundle:"17,600"},
  {carrier:"SK", net:"500M", net2:"", tv:"ì—†ìŒ", monthly:"33,000", bundle:"22,000"},
  {carrier:"SK", net:"1G",   net2:"", tv:"ì—†ìŒ", monthly:"38,500", bundle:"25,300"},
  {carrier:"SK", net:"100M", net2:"", tv:"ë‰´ì´ì½”ë…¸ë¯¸", monthly:"34,100", bundle:"30,800"},
  {carrier:"SK", net:"100M", net2:"", tv:"ìŠ¤íƒ ë‹¤ë“œ",   monthly:"37,400", bundle:"34,100"},
  {carrier:"SK", net:"100M", net2:"", tv:"ALL",        monthly:"40,700", bundle:"37,400"},
  {carrier:"SK", net:"500M", net2:"", tv:"ë‰´ì´ì½”ë…¸ë¯¸", monthly:"41,800", bundle:"35,200"},
  {carrier:"SK", net:"500M", net2:"", tv:"ìŠ¤íƒ ë‹¤ë“œ",   monthly:"45,100", bundle:"38,500"},
  {carrier:"SK", net:"500M", net2:"", tv:"ALL",        monthly:"48,400", bundle:"41,800"},
  {carrier:"SK", net:"1G",   net2:"", tv:"ë‰´ì´ì½”ë…¸ë¯¸", monthly:"47,300", bundle:"38,500"},
  {carrier:"SK", net:"1G",   net2:"", tv:"ìŠ¤íƒ ë‹¤ë“œ",   monthly:"50,600", bundle:"41,800"},
  {carrier:"SK", net:"1G",   net2:"", tv:"ALL",        monthly:"53,900", bundle:"45,100"},
  {carrier:"KT", net:"100M", tv:"ì—†ìŒ", monthly:"22,000", bundle:"16,500"},
  {carrier:"KT", net:"500M", tv:"ì—†ìŒ", monthly:"33,000", bundle:"22,000"},
  {carrier:"KT", net:"1G",   tv:"ì—†ìŒ", monthly:"38,500", bundle:"27,500"},
  {carrier:"KT", net:"100M", tv:"ë² ì´ì§", monthly:"38,500", bundle:"33,000"},
  {carrier:"KT", net:"100M", tv:"ëª¨ë“ G", monthly:"44,000", bundle:"40,700"},
  {carrier:"KT", net:"500M", tv:"ë² ì´ì§", monthly:"44,000", bundle:"38,500"},
  {carrier:"KT", net:"500M", tv:"ëª¨ë“ G", monthly:"49,500", bundle:"44,000"},
  {carrier:"KT", net:"1G",   tv:"ë² ì´ì§", monthly:"49,500", bundle:"44,000"},
  {carrier:"KT", net:"1G",   tv:"ëª¨ë“ G", monthly:"55,000", bundle:"49,500"},
  {carrier:"LG", net:"100M", tv:"ì—†ìŒ", monthly:"22,000", bundle:"16,500"},
  {carrier:"LG", net:"500M", tv:"ì—†ìŒ", monthly:"33,000", bundle:"23,100"},
  {carrier:"LG", net:"1G",   tv:"ì—†ìŒ", monthly:"38,500", bundle:"25,300"},
  {carrier:"LG", net:"100M", tv:"ì‹¤ì†í˜•", monthly:"39,600", bundle:"34,100"},
  {carrier:"LG", net:"100M", tv:"í”„ë¦¬ë¯¸ì—„", monthly:"42,900", bundle:"37,400"},
  {carrier:"LG", net:"500M", tv:"ì‹¤ì†í˜•", monthly:"45,100", bundle:"35,200"},
  {carrier:"LG", net:"500M", tv:"í”„ë¦¬ë¯¸ì—„", monthly:"48,400", bundle:"38,500"},
  {carrier:"LG", net:"1G",   tv:"ì‹¤ì†í˜•", monthly:"50,600", bundle:"37,400"},
  {carrier:"LG", net:"1G",   tv:"í”„ë¦¬ë¯¸ì—„", monthly:"53,900", bundle:"40,700"},
];

const MVNO_PLANS = [
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"1GB+1Mbpsë¬´ì œí•œ", fee:"9,900"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"7GB+1Mbpsë¬´ì œí•œ", fee:"15,900"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"10GB+1Mbpsë¬´ì œí•œ", fee:"18,900"},
  {net:"LG", talk:"100ë¶„",  sms:"100ê±´",  data:"15GB+3Mbpsë¬´ì œí•œ", fee:"25,250"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"11GB+ì¼2GB+3Mbpsë¬´ì œí•œ", fee:"32,990"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"100GB+5Mbpsë¬´ì œí•œ", fee:"38,200"},
  {net:"LG", talk:"50ë¶„",   sms:"50ê±´",   data:"500MB", fee:"3,300"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"1GB+1Mbpsë¬´ì œí•œ", fee:"12,900"},
  {net:"LG", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"5GB+1Mbpsë¬´ì œí•œ", fee:"17,500"},
  {net:"LG", talk:"100ë¶„",  sms:"100ê±´",  data:"15GB+ë§ë‚´1íšŒì„ +3Mbpsë¬´ì œí•œ", fee:"28,820"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"2.5GB+400Kbpsë¬´ì œí•œ", fee:"9,500"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"7GB+1Mbpsë¬´ì œí•œ", fee:"17,900"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"10GB+1Mbpsë¬´ì œí•œ", fee:"19,900"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"15GB+1Mbpsë¬´ì œí•œ", fee:"22,400"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"11GB+ì¼2GB+3Mbpsë¬´ì œí•œ", fee:"34,000"},
  {net:"KT", talk:"ë¬´ì œí•œ", sms:"ë¬´ì œí•œ", data:"100GB+5Mbpsë¬´ì œí•œ", fee:"39,900"},
  {net:"SK", talk:"2,000ë¶„", sms:"2,000ê±´", data:"2GB", fee:"6,820"},
  {net:"SK", talk:"ë¬´ì œí•œ",  sms:"ë¬´ì œí•œ",  data:"1GB+1Mbpsë¬´ì œí•œ", fee:"13,340"},
  {net:"SK", talk:"ë¬´ì œí•œ",  sms:"ë¬´ì œí•œ",  data:"7GB+1Mbpsë¬´ì œí•œ", fee:"19,140"},
  {net:"SK", talk:"ë¬´ì œí•œ",  sms:"ë¬´ì œí•œ",  data:"10GB+1Mbpsë¬´ì œí•œ", fee:"19,640"},
  {net:"SK", talk:"100ë¶„",   sms:"100ê±´",   data:"15GB+3Mbpsë¬´ì œí•œ", fee:"25,740"},
  {net:"SK", talk:"ë¬´ì œí•œ",  sms:"ë¬´ì œí•œ",  data:"11GB+ì¼2GB+3Mbpsë¬´ì œí•œ", fee:"36,140"},
];

/* CSV ë¡œë“œ */
async function fetchCSV(){
  const r = await fetch(`data.csv?v=${encodeURIComponent(CSV_VER)}`, { cache: "no-store" });
  if (!r.ok) throw new Error("data.csv ë¡œë“œ ì‹¤íŒ¨");
  const t = await r.text();
  const lines = t.replace(/^\uFEFF/,"").trim().split(/\r?\n/);
  if (!lines.length) return [];
  const header = lines.shift().split(",").map(s => s.trim());
  return lines.map(line => {
    const cols = line.split(",");
    const o = {};
    header.forEach((h,i)=> o[h] = (cols[i] ?? "").trim());
    return o;
  });
}

/* =========================
   NOTICE (ê³µì§€ ë³´ê¸°)
   notice.json = [{id,title,desc,image,date}, ...]
   imageëŠ” "notice-images/xxx.jpg" í˜•íƒœ ì €ì¥
   ========================= */
async function loadNotices(){
  try{
    const r = await fetch(`notice.json?v=${encodeURIComponent(NOTICE_VER)}`, { cache:"no-store" });
    if (!r.ok) return [];
    const data = await r.json();
    return Array.isArray(data) ? data : [];
  }catch(e){
    return [];
  }
}
function renderNoticeList(items){
  clearList();
  if (!items || !items.length){
    list.insertAdjacentHTML("beforeend", `<div class="loading">ë“±ë¡ëœ ê³µì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`);
    return;
  }
  items.forEach(n=>{
    const title = String(n.title||"ê³µì§€").trim();
    const desc = String(n.desc||"").trim();
    const date = String(n.date||"").trim();
    const image = String(n.image||"").trim();
    const imgUrl = image ? `${SITE_BASE}/${image}` : "";

    list.insertAdjacentHTML("beforeend", `
      <div class="card">
        <div class="titleRow">
          <div class="model">${title}</div>
          <div class="badge hot">ê³µì§€</div>
        </div>
        ${imgUrl ? `<img class="noticeImg" src="${imgUrl}" alt="ê³µì§€ ì´ë¯¸ì§€" loading="lazy">` : ``}
        ${desc ? `<p class="noticeDesc">${desc.replace(/\n/g,"<br>")}</p>` : ``}
        ${date ? `<p class="noticeDate">${date}</p>` : ``}
      </div>
    `);
  });
}
async function renderNotice(){
  mode = "NOTICE";
  setServiceActive("NOTICE");
  hideAllSubTabs();
  showLoading("ê³µì§€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦");
  const items = await loadNotices();
  renderNoticeList(items);
}

/* =========================
   PHONE (SK/KT/LGë§Œ)
   ========================= */
async function renderPhone(tab){
  mode = "PHONE";
  setServiceActive(null);
  hideAllSubTabs();
  showLoading("ê°€ê²© ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦");

  let items = [];
  try{
    items = (await fetchCSV()).filter(x => String(x["ê¸°ì¢…"] ?? "").trim() !== "");
  }catch(e){
    clearList();
    list.insertAdjacentHTML("beforeend", `<p class="infoLine">CSV íŒŒì¼ì„ ì½ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. (data.csv íŒŒì¼ëª…/ìœ„ì¹˜ í™•ì¸)</p>`);
    return;
  }

  clearList();
  if (!items.length){
    list.insertAdjacentHTML("beforeend", `<p class="infoLine">í‘œì‹œí•  í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</p>`);
    return;
  }

  addAddonCard(tab);
  const lim = limOf(tab);

  items.forEach(x=>{
    const plan = asNum(x[`${tab}_ìš”ê¸ˆì œ`]);
    if (plan !== null && plan > 0 && plan !== lim) return;

    const mv = showVal(x[`${tab}_ì´ë™`]);
    const ch = showVal(x[`${tab}_ê¸°ë³€`]);
    if (mv === "" && ch === "") return;

    addPhoneCard({
      badgeText: tab,
      badgeClass: tab.toLowerCase(),
      model: x["ê¸°ì¢…"],
      move: mv || "ë¬¸ì˜",
      change: ch || "ë¬¸ì˜",
      infoText: fixedInfoLine(tab),
      discount: discountOf(x)
    });
  });
}

/* =========================
   INTERNET / MVNO
   ========================= */
function renderInternet(carrier = inetCarrier){
  mode = "INTERNET";
  setServiceActive("INTERNET");
  hideAllSubTabs();
  showInternetTabs(true);
  activateInetCarrier(carrier);
  clearList();

  addInternetNoticeCard();

  const filtered = INTERNET_TV.filter(x => x.carrier === carrier);
  const sorted = filtered.slice().sort((a,b)=> (asNum(a.monthly)||0) - (asNum(b.monthly)||0));

  sorted.forEach(x=>{
    const badgeClass = (x.carrier === "SK") ? "sk" : (x.carrier === "KT" ? "kt" : "lg");
    addSimpleCard({
      badgeText: x.carrier,
      badgeClass,
      line1: `[ ${x.carrier} ]`,
      line2: `${x.net} Â· TV${x.tv}`,
      price1Label: "ì›”",
      price1: x.monthly,
      price2Label: "ê²°í•©",
      price2: x.bundle
    });
  });
}

function renderMVNO(net = mvnoNet){
  mode = "MVNO";
  setServiceActive("MVNO");
  hideAllSubTabs();
  showMvnoTabs(true);
  activateMvnoNet(net);
  clearList();

  addCompactNoticeCard();

  const filtered = MVNO_PLANS.filter(p => p.net === net);
  const sorted = filtered.slice().sort((a,b)=> (asNum(a.fee)||0) - (asNum(b.fee)||0));

  if (!sorted.length){
    list.insertAdjacentHTML("beforeend", `<div class="loading">ë“±ë¡ëœ ${net}ë§ ìš”ê¸ˆì œê°€ ì—†ìŠµë‹ˆë‹¤.</div>`);
    return;
  }

  sorted.forEach(p=>{
    const badgeClass = (p.net === "SK") ? "sk" : (p.net === "KT" ? "kt" : "lg");
    addSimpleCard({
      badgeText: p.net,
      badgeClass,
      line1: `${p.net}ë§ ì•Œëœ°ìš”ê¸ˆ`,
      line2: `${p.data} / í†µí™” ${p.talk} / ë¬¸ì ${p.sms}`,
      price1Label: "ì›”",
      price1: p.fee,
      price2Label: "",
      price2: ""
    });
  });
}

/* =========================
   Admin: ê³µì§€ ì‘ì„± (B: ë“œë˜ê·¸/ë“œë¡­ + ë¶™ì—¬ë„£ê¸° + íŒŒì¼ì„ íƒ)
   + data.csv ìƒˆë¡œê³ ì¹¨
   ========================= */
function openNoticeModal(){
  document.getElementById("noticeMask").style.display = "block";
  document.getElementById("noticeModal").style.display = "block";
}
function closeNoticeModal(){
  document.getElementById("noticeMask").style.display = "none";
  document.getElementById("noticeModal").style.display = "none";
}
let pickedImageFile = null;
function setPreview(file){
  pickedImageFile = file;
  const imgEl = document.getElementById("imgPreview");
  const hint = document.getElementById("imgHint");
  if (!file){
    imgEl.style.display = "none";
    imgEl.src = "";
    hint.textContent = "ì´ë¯¸ì§€ ì—†ì´ë„ ì €ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
    return;
  }
  imgEl.style.display = "block";
  imgEl.src = URL.createObjectURL(file);
  hint.textContent = "ì´ë¯¸ì§€ ì„ íƒë¨";
}

async function ghReq(url, token, opt={}){
  const headers = { "Accept":"application/vnd.github+json", ...(opt.headers||{}) };
  headers["Authorization"] = `Bearer ${token}`;
  const res = await fetch(url, { ...opt, headers });
  const txt = await res.text();
  let json=null; try{ json = txt ? JSON.parse(txt) : null; }catch(e){}
  if (!res.ok) throw new Error((json && json.message) ? json.message : `${res.status} ${res.statusText}`);
  return json;
}
function nowKST(){
  const d = new Date();
  const kst = new Date(d.getTime() + (9*60*60*1000) - (d.getTimezoneOffset()*60*1000));
  const y = kst.getUTCFullYear();
  const m = String(kst.getUTCMonth()+1).padStart(2,"0");
  const day = String(kst.getUTCDate()).padStart(2,"0");
  const hh = String(kst.getUTCHours()).padStart(2,"0");
  const mm = String(kst.getUTCMinutes()).padStart(2,"0");
  return `${y}-${m}-${day} ${hh}:${mm}`;
}
function makeId(){
  return nowKST().replace(/[-:\s]/g,"") + "_" + Math.random().toString(16).slice(2,6);
}
function utf8ToB64(str){
  return btoa(unescape(encodeURIComponent(str)));
}
async function fileToJpegBase64(file){
  const img = await new Promise((resolve, reject)=>{
    const i = new Image();
    i.onload = ()=> resolve(i);
    i.onerror = reject;
    i.src = URL.createObjectURL(file);
  });
  const maxW = 1400;
  const scale = Math.min(1, maxW / img.width);
  const w = Math.round(img.width * scale);
  const h = Math.round(img.height * scale);
  const c = document.createElement("canvas");
  c.width = w; c.height = h;
  c.getContext("2d").drawImage(img, 0, 0, w, h);
  const dataUrl = c.toDataURL("image/jpeg", 0.86);
  URL.revokeObjectURL(img.src);
  return dataUrl.split(",")[1] || "";
}

function initAdmin(){
  if (!isAdmin) return;

  // ê´€ë¦¬ì ë²„íŠ¼ ë³´ì´ê¸°
  document.getElementById("adminFab").style.display = "flex";

  // í† í° ì €ì¥ ë¡œë“œ
  const tokenEl = document.getElementById("ghToken");
  const saveChk = document.getElementById("saveTokenChk");
  const saved = localStorage.getItem("GH_TOKEN") || "";
  if (saved){ tokenEl.value = saved; saveChk.checked = true; }

  // ê³µì§€ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
  document.getElementById("btnOpenNotice").addEventListener("click", openNoticeModal);
  document.getElementById("btnCloseNotice").addEventListener("click", closeNoticeModal);
  document.getElementById("noticeMask").addEventListener("click", closeNoticeModal);

  // data.csv ìƒˆë¡œê³ ì¹¨(ê´€ë¦¬ììš©)
  document.getElementById("btnCsvRefresh").addEventListener("click", ()=>{
    CSV_VER = String(Date.now());
    // í˜„ì¬ í™”ë©´ ìœ ì§€í•˜ë©´ì„œ ì¬ë Œë”
    if (mode === "PHONE") renderPhone(lastPhoneTab);
    else if (mode === "MVNO") renderMVNO(mvnoNet);
    else if (mode === "INTERNET") renderInternet(inetCarrier);
    else if (mode === "NOTICE") renderNotice();
    alert("data.csv ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ(ìºì‹œ ê°±ì‹ ).");
  });

  // íŒŒì¼ ì„ íƒ
  const fileInp = document.getElementById("imgFile");
  document.getElementById("btnPickImg").addEventListener("click", ()=> fileInp.click());
  fileInp.addEventListener("change", ()=>{
    const f = fileInp.files && fileInp.files[0];
    if (f && f.type.startsWith("image/")) setPreview(f);
  });

  // ë“œë˜ê·¸&ë“œë¡­
  const dz = document.getElementById("dropZone");
  ["dragenter","dragover"].forEach(ev=>{
    dz.addEventListener(ev, (e)=>{ e.preventDefault(); dz.classList.add("drag"); });
  });
  ["dragleave","drop"].forEach(ev=>{
    dz.addEventListener(ev, (e)=>{ e.preventDefault(); dz.classList.remove("drag"); });
  });
  dz.addEventListener("drop", (e)=>{
    const f = e.dataTransfer?.files?.[0];
    if (f && f.type.startsWith("image/")) setPreview(f);
  });

  // ë¶™ì—¬ë„£ê¸°(Ctrl+V)
  window.addEventListener("paste", (e)=>{
    if (document.getElementById("noticeModal").style.display !== "block") return;
    const items = e.clipboardData?.items || [];
    for (const it of items){
      if (it.type && it.type.startsWith("image/")){
        const f = it.getAsFile();
        if (f) { setPreview(f); break; }
      }
    }
  });

  // ì´ˆê¸°í™”
  document.getElementById("btnClearNotice").addEventListener("click", ()=>{
    document.getElementById("nTitle").value = "";
    document.getElementById("nDesc").value = "";
    setPreview(null);
  });

  // ì €ì¥
  document.getElementById("btnSaveNotice").addEventListener("click", async ()=>{
    const btn = document.getElementById("btnSaveNotice");
    const old = btn.textContent;
    btn.disabled = true; btn.textContent = "ì €ì¥ì¤‘â€¦";

    try{
      const token = tokenEl.value.trim();
      if (!token) throw new Error("í† í°ì„ ë¶™ì—¬ë„£ì–´ì•¼ ì €ì¥ë©ë‹ˆë‹¤.");

      if (saveChk.checked) localStorage.setItem("GH_TOKEN", token);
      else localStorage.removeItem("GH_TOKEN");

      const title = document.getElementById("nTitle").value.trim();
      const desc  = document.getElementById("nDesc").value.trim();
      if (!title && !desc && !pickedImageFile) throw new Error("ì œëª©/ë‚´ìš©/ì´ë¯¸ì§€ ì¤‘ 1ê°œëŠ” í•„ìš”í•©ë‹ˆë‹¤.");

      const owner = "a2272a";
      const repo  = "a2272a.github.io";
      const branch= "main";

      const id = makeId();
      const date = nowKST();

      // notice.json ì½ê¸°
      let noticeSha = null;
      let existing = [];
      try{
        const cur = await ghReq(`https://api.github.com/repos/${owner}/${repo}/contents/notice.json?ref=${branch}`, token);
        noticeSha = cur.sha;
        const raw = atob((cur.content||"").replace(/\n/g,""));
        existing = JSON.parse(raw);
        if (!Array.isArray(existing)) existing = [];
      }catch(e){
        existing = [];
        noticeSha = null;
      }

      // ì´ë¯¸ì§€ ì—…ë¡œë“œ
      let imagePath = "";
      if (pickedImageFile){
        const imgB64 = await fileToJpegBase64(pickedImageFile);
        imagePath = `notice-images/notice_${id}.jpg`;
        await ghReq(`https://api.github.com/repos/${owner}/${repo}/contents/${encodeURIComponent(imagePath)}`, token, {
          method:"PUT",
          body: JSON.stringify({
            message: `notice: upload image ${id}`,
            content: imgB64,
            branch
          })
        });
      }

      // notice.json ê°±ì‹  (ìµœëŒ€ 80ê°œ)
      const next = [{ id, title, desc, image:imagePath, date }, ...existing].slice(0,80);
      const jsonStr = JSON.stringify(next, null, 2);

      await ghReq(`https://api.github.com/repos/${owner}/${repo}/contents/notice.json`, token, {
        method:"PUT",
        body: JSON.stringify({
          message: `notice: add ${id}`,
          content: utf8ToB64(jsonStr),
          branch,
          ...(noticeSha ? { sha: noticeSha } : {})
        })
      });

      NOTICE_VER = String(Date.now());
      closeNoticeModal();
      await renderNotice();
      alert("ê³µì§€ ì €ì¥ ì™„ë£Œ!");

      document.getElementById("nTitle").value = "";
      document.getElementById("nDesc").value = "";
      setPreview(null);

    }catch(err){
      alert("ì €ì¥ ì‹¤íŒ¨: " + (err?.message || String(err)));
    }finally{
      btn.disabled = false; btn.textContent = old;
    }
  });
}

/* =========================
   EVENTS
   ========================= */
phoneTabsEl.querySelectorAll(".tabBtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const tab = btn.dataset.tab;
    activatePhoneTab(tab);
    serviceTabsEl.querySelectorAll(".tabBtn").forEach(b => b.classList.remove("active"));
    renderPhone(tab);
  });
});

/* âœ… ì—¬ê¸°ê°€ 'ê³µì§€ íƒ­ í„°ì¹˜ ì•ˆë¨'ì„ ê³ ì¹œ í•µì‹¬: NOTICEë¡œ ì—°ê²° */
serviceTabsEl.querySelectorAll(".tabBtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const next = btn.dataset.mode;

    // ê°™ì€ íƒ­ ë‹¤ì‹œ ëˆ„ë¥´ë©´ íœ´ëŒ€í°ìœ¼ë¡œ ë³µê·€
    if (mode === next){
      serviceTabsEl.querySelectorAll(".tabBtn").forEach(b => b.classList.remove("active"));
      activatePhoneTab(lastPhoneTab);
      renderPhone(lastPhoneTab);
      return;
    }

    if (next === "MVNO") renderMVNO(mvnoNet);
    if (next === "INTERNET") renderInternet(inetCarrier);
    if (next === "NOTICE") renderNotice();
  });
});

mvnoTabsEl.querySelectorAll(".subTabBtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const net = btn.dataset.mvno;
    renderMVNO(net);
  });
});
internetTabsEl.querySelectorAll(".subTabBtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const c = btn.dataset.inet;
    renderInternet(c);
  });
});

/* init */
initAdmin();
activatePhoneTab("SK");
renderPhone("SK");
</script>
</body>
</html>
