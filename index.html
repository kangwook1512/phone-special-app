<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>복지관 2층 휴대폰 특판 안내</title>
<meta name="description" content="복지관 2층 휴대폰 특판 전용 사이트" />

<style>
/* ===== 기본 ===== */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,'Noto Sans KR',sans-serif;
  background:linear-gradient(180deg,#eaf6ff 0%,#f6fffb 100%);
  color:#0b1220;
}
.app{max-width:1100px;margin:0 auto}

/* ===== 헤더 ===== */
.hero{
  padding:20px;
  background:linear-gradient(135deg,#dff1ff,#eefbf6);
  border-bottom:1px solid rgba(15,23,42,.1)
}
.hero-title{
  margin:0;
  font-size:32px;
  font-weight:1000;
}
.hero-sub{
  margin-top:6px;
  font-weight:900;
  color:#334155;
}

/* ===== 탭 ===== */
.tab-bar{
  position:sticky;top:0;z-index:10;
  background:#fff;
  padding:12px;
  border-bottom:1px solid rgba(15,23,42,.1)
}
.tabs{display:flex;gap:10px}
.tab-btn{
  flex:1;
  padding:14px 10px;
  border-radius:999px;
  border:1px solid rgba(15,23,42,.15);
  background:#fff;
  font-weight:1000;
  cursor:pointer;
}
.tab-btn.active{
  background:linear-gradient(135deg,#0ea5e9,#2563eb);
  color:#fff;
}

/* ===== 리스트 ===== */
.content{padding:16px}
#list-skt,#list-kt,#list-lg,#list-internet,#list-mvno{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:14px;
}

/* ===== 카드 ===== */
.deal-card{
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 18px 30px rgba(15,23,42,.12);
  border:1px solid rgba(15,23,42,.08)
}
.deal-topbar{height:8px}
.deal-body{padding:14px}

.deal-row{
  display:flex;
  justify-content:space-between;
  gap:10px;
}
.deal-title{
  font-size:20px;
  font-weight:1000;
}
.deal-tag{
  font-size:13px;
  font-weight:900;
  color:#475569;
  white-space:nowrap;
}
.deal-price{
  margin:10px 0 4px;
  font-size:36px;
  font-weight:1000;
}
.deal-sub{
  font-size:13px;
  font-weight:900;
  color:#334155;
}
.deal-badges{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.deal-badge{
  padding:6px 10px;
  border-radius:999px;
  background:#f1f5f9;
  font-size:12px;
  font-weight:900;
  border:1px solid rgba(15,23,42,.1)
}

/* ===== 숨김 ===== */
.tab-panel{display:none}
.tab-panel.active{display:block}
</style>
</head>

<body>
<div class="app">

<header class="hero">
  <h1 class="hero-title">복지관 2층 휴대폰 특판 안내</h1>
  <div class="hero-sub">SK·KT·LG / 인터넷·TV 현금 최대지원 / 알뜰요금 3,300원~</div>
</header>

<div class="tab-bar">
  <div class="tabs">
    <button class="tab-btn active" data-tab="skt">SKT</button>
    <button class="tab-btn" data-tab="kt">KT</button>
    <button class="tab-btn" data-tab="lg">LGU+</button>
    <button class="tab-btn" data-tab="internet">인터넷·TV</button>
    <button class="tab-btn" data-tab="mvno">알뜰요금</button>
  </div>
</div>

<main class="content">
  <section class="tab-panel active" data-panel="skt"><div id="list-skt"></div></section>
  <section class="tab-panel" data-panel="kt"><div id="list-kt"></div></section>
  <section class="tab-panel" data-panel="lg"><div id="list-lg"></div></section>
  <section class="tab-panel" data-panel="internet"><div id="list-internet"></div></section>
  <section class="tab-panel" data-panel="mvno"><div id="list-mvno"></div></section>
</main>

</div>

<script>
/* ===== 탭 ===== */
document.querySelectorAll(".tab-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
    document.querySelectorAll(".tab-panel").forEach(p=>p.classList.remove("active"));
    btn.classList.add("active");
    document.querySelector(`[data-panel="${btn.dataset.tab}"]`).classList.add("active");
    window.scrollTo({top:0});
  }
});

/* ===== CSV 로드 ===== */
fetch("data.csv?"+Date.now())
.then(r=>r.text())
.then(text=>{
  const lines=text.trim().split("\n");
  const headers=lines.shift().split(",");
  lines.forEach(l=>{
    if(!l.trim()) return;
    const v=l.split(",").map(x=>x.replace(/^"|"$/g,""));
    const row={}; headers.forEach((h,i)=>row[h]=v[i]||"");
    render(row);
  });
});

function render(r){
  const wrap=document.getElementById("list-"+r.carrier);
  if(!wrap) return;

  const topColor={
    skt:"#ff3b4a",kt:"#111827",lg:"#c026d3",
    internet:"#f97316",mvno:"#16a34a"
  }[r.carrier]||"#0ea5e9";

  const card=document.createElement("div");
  card.className="deal-card";
  card.innerHTML=`
    <div class="deal-topbar" style="background:${topColor}"></div>
    <div class="deal-body">
      <div class="deal-row">
        <div class="deal-title">${r.title}</div>
        <div class="deal-tag">${r.tag}</div>
      </div>
      <div class="deal-price">${r.price}</div>
      <div class="deal-sub">${r.sub}</div>
      <div class="deal-badges">
        ${[r.badge1,r.badge2,r.badge3].filter(Boolean)
          .map(b=>`<span class="deal-badge">${b}</span>`).join("")}
      </div>
    </div>`;
  wrap.appendChild(card);
}
</script>
</body>
</html>
