<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>ë³µì§€ê´€2ì¸µë§¤ì¥</title>

<style>
:root{
  --bg:#f5f6f8; --card:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e5e7eb;
  --sk:#2563eb; --kt:#111827; --lg:#16a34a; --hot:#f97316; --low:#7c3aed;
  --call:#22c55e; --sms:#38bdf8; --kakao:#fee500;

  /* Aì•ˆ ì „ê´‘íŒ íŒ”ë ˆíŠ¸ */
  --ledBg:#070b12;
  --ledBg2:#0b1220;
  --ledBorder:rgba(255,255,255,.14);
  --ledGlow1:rgba(0,255,180,.35);
  --ledGlow2:rgba(255,60,60,.25);
  --ledText:#f8fffc;
  --ledText2:#b6ffcf;
}
*{box-sizing:border-box;}
html,body{margin:0;padding:0;}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",system-ui,sans-serif;
  background:var(--bg); color:var(--ink);
}
.wrap{max-width:760px;margin:0 auto;padding:14px 14px 190px;}

/* =========================
   íˆì–´ë¡œ ì „ê´‘íŒ
   ========================= */
@keyframes heroGlow{
  0%,100%{
    box-shadow:
      0 16px 40px rgba(0,0,0,.20),
      0 0 0 2px rgba(255,255,255,.10),
      0 0 24px var(--ledGlow1),
      0 0 44px rgba(0,255,180,.18);
    filter: brightness(1.02) saturate(1.08);
  }
  50%{
    box-shadow:
      0 18px 46px rgba(0,0,0,.26),
      0 0 0 2px rgba(255,255,255,.14),
      0 0 34px rgba(0,255,180,.42),
      0 0 62px rgba(255,60,60,.18);
    filter: brightness(1.14) saturate(1.18);
  }
}
@keyframes ledDotFlicker{0%,100%{opacity:.22}50%{opacity:.52}}
@keyframes ledScan{
  0%{transform:translateY(-120%);opacity:0;}
  18%{opacity:.26;}
  50%{opacity:.16;}
  100%{transform:translateY(120%);opacity:0;}
}
@keyframes marqueeLoopA{0%{transform:translateX(0);}100%{transform:translateX(-50%);}}
@keyframes marqueeLoopAR{0%{transform:translateX(-50%);}100%{transform:translateX(0);} }
@keyframes ledTextFlicker{
  0%{filter: brightness(1.12) saturate(1.18);}
  50%{filter: brightness(1.68) saturate(1.40);}
  100%{filter: brightness(1.22) saturate(1.24);}
}

/* 2ì—´ ì¹´ì¹´ì˜¤ MAX í„ìŠ¤ */
@keyframes kakaoPulseMAX{
  0%,100%{
    color:#fffbe6;
    text-shadow:
      0 0 10px rgba(254,229,0,.85),
      0 0 20px rgba(254,229,0,.65),
      0 0 34px rgba(254,229,0,.45),
      0 2px 18px rgba(0,0,0,.9);
    filter: brightness(1.1);
  }
  50%{
    color:#ffffff;
    text-shadow:
      0 0 18px rgba(254,229,0,1),
      0 0 36px rgba(254,229,0,.9),
      0 0 60px rgba(254,229,0,.65),
      0 2px 22px rgba(0,0,0,1);
    filter: brightness(1.5);
  }
}

.hero{
  border-radius:18px;
  overflow:hidden;
  position:relative;
  background:
    radial-gradient(1200px 240px at 50% 0%, rgba(0,255,180,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.22)),
    linear-gradient(90deg, var(--ledBg), var(--ledBg2), var(--ledBg));
  border:1px solid var(--ledBorder);
  animation: heroGlow 1.8s ease-in-out infinite;
}

.heroMarquee2{
  min-height: clamp(120px, 25vh, 190px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:10px;
  padding:12px;
  position:relative;
}
.heroMarquee2::before{
  content:"";position:absolute;inset:0;
  background:radial-gradient(circle, rgba(255,255,255,.10) 1px, transparent 1.9px);
  background-size:7px 7px;
  opacity:.30;animation:ledDotFlicker 1.1s infinite;
}
.heroMarquee2::after{
  content:"";position:absolute;inset:-30% 0;
  background:linear-gradient(180deg,transparent,rgba(0,255,180,.18),transparent);
  animation:ledScan 1.85s linear infinite;
  mix-blend-mode:screen;
}

/* =========================
   2ì¤„ ì „ê´‘íŒ
   ========================= */
.marqueeLine{
  height:64px;
  display:flex;align-items:center;overflow:hidden;
  padding:0 10px;border-radius:14px;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.08);
  box-shadow: inset 0 16px 28px rgba(0,0,0,.38), 0 10px 24px rgba(0,0,0,.16);
}
.marqueeLine + .marqueeLine{margin-top:10px;}

.marqueeInner{
  display:flex;gap:44px;white-space:nowrap;align-items:center;
  animation: marqueeLoopA 6.6s linear infinite;
}
.marqueeInner.reverse{
  animation: marqueeLoopAR 6.2s linear infinite; /* 2ì—´ ë” ë¹ ë¥´ê²Œ */
}

.marqueeInner span{
  font-size:26px;font-weight:1000;letter-spacing:-.8px;
  color:var(--ledText2);
  text-shadow:0 0 8px rgba(0,255,180,.55),0 0 16px rgba(0,255,180,.30),0 2px 14px rgba(0,0,0,.75);
  animation: ledTextFlicker .92s infinite;
}

/* 1ì—´ */
.marqueeLine.l1{
  background: linear-gradient(90deg, rgba(255,60,60,.06), rgba(0,255,180,.06), rgba(255,60,60,.06));
}
.marqueeLine.l1 .marqueeInner span{
  font-size:30px;letter-spacing:-1px;color:var(--ledText);
  animation: ledTextFlicker .78s infinite;
}

/* ğŸ”¥ 2ì—´ ì¹´í†¡ë¬¸ì˜ MAX */
.marqueeLine.l2 .marqueeInner span.kakaoBlink{
  font-size:28px;
  letter-spacing:-.6px;
  animation:
    ledTextFlicker .7s infinite,
    kakaoPulseMAX 1.2s infinite;
}

/* =========================
   íƒ­ / ì¹´ë“œ / ë„í¬ (ì›ë³¸ ìœ ì§€)
   ========================= */
.tabs{display:flex;gap:8px;margin-top:14px;}
.tabBtn{flex:1;padding:12px 0;border-radius:999px;border:1px solid var(--line);background:#fff;font-weight:1000;font-size:14px;cursor:pointer;}
.tabBtn.active{color:#fff;border-color:transparent;}
.tabBtn.sk.active{background:var(--sk);}
.tabBtn.kt.active{background:var(--kt);}
.tabBtn.lg.active{background:var(--lg);}
.tabBtn.hot.active{background:var(--hot);}
.tabBtn.low.active{background:var(--low);}

.panel{margin-top:14px;background:#fff;border:1px solid var(--line);border-radius:16px;padding:14px;}
.list{display:flex;flex-direction:column;gap:10px;}
.card{border:1px solid var(--line);border-radius:14px;padding:12px;box-shadow:0 2px 10px rgba(0,0,0,.05);}
.titleRow{display:flex;justify-content:space-between;margin-bottom:8px;gap:10px;align-items:center;}
.model{font-weight:1000;font-size:16px;}
.badge{font-size:12px;font-weight:1000;padding:6px 10px;border-radius:999px;color:#fff;}
.badge.sk{background:var(--sk);} .badge.kt{background:var(--kt);} .badge.lg{background:var(--lg);}
.badge.hot{background:var(--hot);} .badge.low{background:var(--low);}
.infoLine{font-size:12px;font-weight:1000;color:var(--muted);margin:0 0 6px;}
.discountLine{font-size:12px;font-weight:1000;color:#2563eb;margin:0 0 8px;}
.priceRow{display:flex;gap:10px;}
.pill{flex:1;border:1px solid var(--line);border-radius:12px;padding:10px;text-align:center;background:#fafafa;}
.pill .k{font-size:12px;color:var(--muted);font-weight:1000;margin-bottom:4px;}
.pill .v{font-size:20px;font-weight:1000;}
.neg{color:#dc2626;} .zero{color:#0ea5e9;} .pos{color:#0f172a;}

.bottomDock{position:fixed;left:12px;right:12px;bottom:calc(10px + env(safe-area-inset-bottom));height:60px;padding:8px;display:flex;gap:10px;border-radius:18px;background:rgba(255,255,255,.88);border:1px solid rgba(15,23,42,.10);box-shadow:0 14px 34px rgba(15,23,42,.14);backdrop-filter: blur(10px) saturate(160%);z-index:999;}
.dockBtn{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;border-radius:14px;text-decoration:none;font-weight:1000;font-size:16px;border:1px solid rgba(15,23,42,.10);background:#fff;color:#0f172a;}
.dockBtn.call{background:rgba(34,197,94,.12);} .dockBtn.sms{background:rgba(56,189,248,.12);} .dockBtn.kakao{background:rgba(254,229,0,.35);}
</style>
</head>

<body>
<div class="wrap">
  <div class="hero">
    <div class="heroMarquee2">
      <div class="marqueeLine l1">
        <div class="marqueeInner">
          <span>íœ´ëŒ€í°íŠ¹íŒ Â· ì¸í„°ë„·TV Â· ì•Œëœ°ìš”ê¸ˆ Â· ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´</span>
          <span aria-hidden="true">íœ´ëŒ€í°íŠ¹íŒ Â· ì¸í„°ë„·TV Â· ì•Œëœ°ìš”ê¸ˆ Â· ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´</span>
        </div>
      </div>
      <div class="marqueeLine l2">
        <div class="marqueeInner reverse">
          <span class="kakaoBlink">ì¹´í†¡ë¬¸ì˜</span>
          <span class="kakaoBlink" aria-hidden="true">ì¹´í†¡ë¬¸ì˜</span>
        </div>
      </div>
    </div>
  </div>

  <div class="tabs">
    <button class="tabBtn sk active" data-tab="SK">SK</button>
    <button class="tabBtn kt" data-tab="KT">KT</button>
    <button class="tabBtn lg" data-tab="LG">LG</button>
    <button class="tabBtn hot" data-tab="HOT">í•«ë”œ</button>
    <button class="tabBtn low" data-tab="LOW">ì €ê°€</button>
  </div>

  <div class="panel"><div class="list" id="list"></div></div>
</div>

<script>
const list=document.getElementById("list");
const asNum=x=>{const s=String(x??"").replace(/\u2212/g,"-").replace(/,/g,"").trim();if(s==="")return null;const n=Number(s);return Number.isFinite(n)?n:null};
const vClass=n=>(n===null)?"":(n<0?"neg":(n===0?"zero":"pos"));
const showVal=raw=>{const n=asNum(raw);if(n===null)return "";return String(raw).trim();}
const limOf=c=>(c==="SK")?109:(c==="KT"?110:115);
const fixedInfoLine=c=>(c==="SK")?"SK 109ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜":(c==="KT")?"KT 110ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜":"LG 115ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜";
const infoLineWithPlan=(c,x)=>{const p=asNum(x[`${c}_ìš”ê¸ˆì œ`]);return(p&&p>0)?`${c} ${p}ìš”ê¸ˆ 6ê°œì›” / ë¶€ê°€í•„ìˆ˜ ë¬¸ì˜`:fixedInfoLine(c);}
function addCard({badgeText,badgeClass,model,move,change,infoText,discount}){
  const mvNum=asNum(move),chNum=asNum(change);
  list.insertAdjacentHTML("beforeend",`
  <div class="card">
    <div class="titleRow"><div class="model">${model}</div><div class="badge ${badgeClass}">${badgeText}</div></div>
    <p class="infoLine">${infoText}</p>
    ${discount?`<p class="discountLine">ìš”ê¸ˆí• ì¸ 25% ê°€ëŠ¥</p>`:""}
    <div class="priceRow">
      ${move!==""?`<div class="pill"><div class="k">ì´ë™</div><div class="v ${vClass(mvNum)}">${move}</div></div>`:""}
      ${change!==""?`<div class="pill"><div class="k">ê¸°ë³€</div><div class="v ${vClass(chNum)}">${change}</div></div>`:""}
    </div>
  </div>`);
}
async function fetchCSV(){
  const r=await fetch(`data.csv?v=${Date.now()}`,{cache:"no-store"});
  if(!r.ok)throw new Error("data.csv ë¡œë“œ ì‹¤íŒ¨");
  const t=await r.text();
  const lines=t.replace(/^\uFEFF/,"").trim().split(/\r?\n/);
  const header=lines.shift().split(",").map(s=>s.trim());
  return lines.map(line=>{const cols=line.split(",");const o={};header.forEach((h,i)=>o[h]=(cols[i]??"").trim());return o;});
}
async function render(tab){
  list.innerHTML="";
  let items=[];
  try{items=(await fetchCSV()).filter(x=>String(x["ê¸°ì¢…"]??"").trim()!=="");}
  catch(e){list.innerHTML=`<p class="infoLine">CSV íŒŒì¼ì„ ì½ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>`;return;}
  const discountOf=x=>String(x["ìš”ê¸ˆí• ì¸"]||"").trim().toUpperCase()==="O";
  if(["SK","KT","LG"].includes(tab)){
    const lim=limOf(tab);
    items.forEach(x=>{
      const plan=asNum(x[`${tab}_ìš”ê¸ˆì œ`]); if(plan!==null&&plan>0&&plan!==lim)return;
      const mv=showVal(x[`${tab}_ì´ë™`]), ch=showVal(x[`${tab}_ê¸°ë³€`]);
      if(mv===""&&ch==="")return;
      addCard({badgeText:tab,badgeClass:tab.toLowerCase(),model:x["ê¸°ì¢…"],move:mv||"ë¬¸ì˜",change:ch||"ë¬¸ì˜",infoText:fixedInfoLine(tab),discount:discountOf(x)});
    }); return;
  }
}
render("SK");
</script>
</body>
</html>
