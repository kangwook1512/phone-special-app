<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ğŸ” SEO -->
  <title>ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° íŠ¹íŒ ì•ˆë‚´ | SKÂ·KTÂ·LG Â· ì¸í„°ë„·TV Â· ì•Œëœ°ìš”ê¸ˆ</title>
  <meta name="description" content="ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° ë§¤ì¥ íŠ¹íŒ ì „ìš© ì‚¬ì´íŠ¸. SKÂ·KTÂ·LG íœ´ëŒ€í° íŠ¹íŒ, ì¸í„°ë„·Â·TV í˜„ê¸ˆ ì§€ì›, ì•Œëœ°ìš”ê¸ˆ 3,300ì›~ ì‹¤ì‹œê°„ ì•ˆë‚´." />
  <link rel="canonical" href="https://a2272a.github.io/" />
  <meta name="robots" content="index,follow" />
  <meta name="keywords" content="ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í°, íœ´ëŒ€í° íŠ¹íŒ, ì•Œëœ°ìš”ê¸ˆ 3300ì›, íœ´ëŒ€í° ì„±ì§€, ì¸í„°ë„· TV í˜„ê¸ˆì§€ì›" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0ea5e9"/>

  <style>
    :root{
      --bg:#f4fbff;
      --ink:#0b1220;
      --sub:#334155;

      --blue:#0ea5e9;
      --blue2:#2563eb;

      --card:#ffffff;
      --line:rgba(15,23,42,0.10);

      --shadow: 0 18px 40px rgba(15,23,42,0.12);
      --shadow2: 0 10px 22px rgba(15,23,42,0.10);

      --radius:22px;

      --price-minus:#ef4444;
      --price-cash:#f59e0b;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,'Noto Sans KR',sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 520px at 10% 0%, rgba(14,165,233,0.18) 0%, rgba(14,165,233,0) 55%),
        radial-gradient(900px 460px at 95% 20%, rgba(34,197,94,0.12) 0%, rgba(34,197,94,0) 60%),
        linear-gradient(180deg, #ffffff 0%, var(--bg) 35%, #ffffff 100%);
    }

    .app{
      width:100%;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      padding-bottom:90px; /* í•˜ë‹¨ ê³ ì •ë°” ê³µê°„ */
    }

    @media(min-width:1100px){
      .app{
        max-width:1100px;
        margin:18px auto;
        border-radius:28px;
        overflow:hidden;
        background:#fff;
        box-shadow:0 26px 60px rgba(15,23,42,0.14);
      }
    }

    /* âœ… ìƒë‹¨ í”„ë¡œëª¨ì…˜ ë°” (4ë²ˆ ë¬¸êµ¬) */
    .top-promo{
      position: sticky;
      top: 0;
      z-index: 999;
      background: linear-gradient(135deg, #fee500, #fde047);
      color: #0b1220;
      font-weight: 1000;
      text-align: center;
      padding: 12px 10px;
      font-size: 16px;
      border-bottom: 1px solid rgba(0,0,0,0.10);
      cursor: pointer;
      user-select:none;
    }
    .top-promo small{
      display:block;
      margin-top:3px;
      font-size: 13px;
      font-weight: 900;
      opacity: 0.9;
    }

    .hero{
      padding:18px 18px 14px;
      background:
        radial-gradient(1000px 420px at 15% 0%, rgba(14,165,233,0.22) 0%, rgba(14,165,233,0) 60%),
        linear-gradient(180deg, #ffffff 0%, #f0fbff 100%);
      border-bottom:1px solid var(--line);
    }
    .hero-title{
      margin:0;
      font-size:34px;
      font-weight:1000;
      letter-spacing:-0.06em;
      line-height:1.05;
    }
    .hero-sub{
      margin:10px 0 0;
      font-size:15px;
      font-weight:900;
      color:var(--sub);
    }
    .hint{
      margin:10px 0 0;
      font-size:13px;
      color:#64748b;
      font-weight:900;
    }

    /* Tabs */
    .tab-bar{
      position:sticky; top:52px; z-index:30; /* top-promoê°€ stickyë¼ì„œ ê·¸ ì•„ë˜ë¡œ */
      background:rgba(255,255,255,0.94);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid var(--line);
      padding:10px 12px 12px;
    }
    /* ëª¨ë°”ì¼ 2ì—´, ë°ìŠ¤í¬íƒ‘ 5ì—´ */
    .tabs{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media(min-width:520px){
      .tabs{ grid-template-columns: repeat(3, 1fr); }
    }
    @media(min-width:900px){
      .tabs{ grid-template-columns: repeat(5, 1fr); }
    }

    .tab-btn{
      border:none; cursor:pointer;
      padding:14px 10px;
      border-radius:999px;
      font-size:15px;
      font-weight:1000;
      background:#fff;
      color:#0b1220;
      border:1px solid var(--line);
      box-shadow: var(--shadow2);
      white-space:nowrap;
    }
    .tab-btn.active{
      background:linear-gradient(135deg, var(--blue) 0%, var(--blue2) 100%);
      color:#fff;
      box-shadow:0 18px 30px rgba(37,99,235,0.22);
      border-color: rgba(37,99,235,0.25);
    }

    .content{padding:14px 14px 34px}
    .tab-panel{display:none}
    .tab-panel.active{display:block}

    /* list layout */
    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media(min-width:720px){
      .grid{ grid-template-columns:1fr 1fr; }
    }
    @media(min-width:1020px){
      .grid{ grid-template-columns:1fr 1fr 1fr; }
    }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:26px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card-topline{
      height:7px;
      background: linear-gradient(90deg, rgba(239,68,68,0.95), rgba(249,115,22,0.75));
    }
    .card-body{ padding:16px 16px 14px; }

    .row1{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }

    .title{
      font-size:24px;
      font-weight:1000;
      letter-spacing:-0.04em;
      line-height:1.1;
      margin:0;
    }
    .tag{
      font-size:14px;
      font-weight:1000;
      color:#111827;
      background: #f1f5f9;
      border:1px solid rgba(15,23,42,0.10);
      padding:8px 10px;
      border-radius:999px;
      flex:0 0 auto;
      white-space:nowrap;
    }

    .row2{
      margin-top:14px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
    }

    .price{
      font-size:52px;
      font-weight:1000;
      letter-spacing:-0.06em;
      line-height:0.95;
      margin:0;
    }
    .price-sub{
      font-size:13px;
      font-weight:1000;
      color:#64748b;
      margin-top:6px;
    }
    .sub{
      font-size:16px;
      font-weight:1000;
      color:#0f172a;
      text-align:right;
      line-height:1.2;
    }

    .badges{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    .badge{
      font-size:13px;
      font-weight:1000;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(15,23,42,0.12);
      background:#fff;
      color:#0f172a;
    }

    .pt-free .price{ color:#0f172a; }
    .pt-minus .price{ color:var(--price-minus); }
    .pt-cash .price{ color:var(--price-cash); }

    .empty{
      padding:18px;
      border:1px dashed rgba(15,23,42,0.18);
      border-radius:18px;
      color:#475569;
      background:rgba(255,255,255,0.6);
      font-weight:900;
    }

    /* bottom contact bar */
    .bottom-bar{
      position:fixed;
      left:0; right:0; bottom:0;
      z-index:60;
      background: rgba(255,255,255,0.96);
      backdrop-filter: blur(10px) saturate(180%);
      border-top:1px solid var(--line);
      padding:10px 10px 12px;
    }
    @media(min-width:1100px){
      .bottom-bar{
        left:50%;
        transform:translateX(-50%);
        max-width:1100px;
        border-bottom-left-radius:28px;
        border-bottom-right-radius:28px;
      }
    }

    .actions{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
      align-items:center;
    }
    .act{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:14px 10px;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      box-shadow: var(--shadow2);
      font-weight:1000;
      color:#0b1220;
      text-decoration:none;
      user-select:none;
    }
    .act.primary{
      background:linear-gradient(135deg, var(--blue) 0%, var(--blue2) 100%);
      color:#fff;
      border-color: rgba(37,99,235,0.25);
    }
    .act.kakao{
      background:#fee500;
      color:#0b1220;
      border-color:#facc15;
    }

    .mini-row{
      display:flex;
      justify-content:space-between;
      gap:10px;
      margin-top:8px;
      font-size:12px;
      color:#64748b;
      font-weight:900;
      padding:0 2px;
    }
    .mini-row a{
      color:#2563eb;
      text-decoration:none;
      font-weight:1000;
    }

    /* âœ… ì¹´í†¡ ë²„íŠ¼ ë°˜ì§/í„ìŠ¤ íš¨ê³¼ */
    @keyframes kakaoPulse {
      0%   { transform: scale(1); box-shadow: 0 0 0 rgba(250,204,21,0); }
      40%  { transform: scale(1.04); box-shadow: 0 0 22px rgba(250,204,21,0.55); }
      70%  { transform: scale(0.99); box-shadow: 0 0 10px rgba(250,204,21,0.35); }
      100% { transform: scale(1); box-shadow: 0 0 0 rgba(250,204,21,0); }
    }
    @keyframes kakaoWiggle {
      0%{ transform: rotate(0deg); }
      25%{ transform: rotate(-2deg); }
      50%{ transform: rotate(2deg); }
      75%{ transform: rotate(-1deg); }
      100%{ transform: rotate(0deg); }
    }
    .kakao-sparkle{
      animation: kakaoPulse 0.9s ease-in-out 0s 2, kakaoWiggle 0.35s ease-in-out 0s 2;
      transform-origin: center;
    }
  </style>
</head>

<body>
  <!-- ê²€ìƒ‰ ë³´ê°•ìš© ìˆ¨ê¹€ í…ìŠ¤íŠ¸ -->
  <div style="display:none">ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° ë§¤ì¥ íŠ¹íŒ ì „ìš© ì‚¬ì´íŠ¸</div>

  <!-- âœ… ìƒë‹¨ í”„ë¡œëª¨ì…˜ ë°” -->
  <div class="top-promo" id="promoBar">
    ì•¡ì •í•„ë¦„ ë¬´ë£Œêµì²´
    <small>ì¹´í†¡ ì£¼ë¬¸ ê°€ëŠ¥</small>
  </div>

  <div class="app">
    <header class="hero">
      <h1 class="hero-title">ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° íŠ¹íŒ ì•ˆë‚´</h1>
      <div class="hero-sub">SKÂ·KTÂ·LG / ì¸í„°ë„·Â·TV í˜„ê¸ˆ ìµœëŒ€ì§€ì› / ì•Œëœ°ìš”ê¸ˆ 3,300ì›~</div>
      <div class="hint">â€» ê°€ê²©/ì¡°ê±´ì€ ìˆ˜ì‹œ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°©ë¬¸ ì „ ë¬¸ì˜ ì¶”ì²œ</div>
    </header>

    <div class="tab-bar">
      <div class="tabs">
        <button class="tab-btn active" data-tab="skt">SKT</button>
        <button class="tab-btn" data-tab="kt">KT</button>
        <button class="tab-btn" data-tab="lg">LGU+</button>
        <button class="tab-btn" data-tab="internet">ì¸í„°ë„·Â·TV</button>
        <button class="tab-btn" data-tab="mvno">ì•Œëœ°ìš”ê¸ˆ</button>
      </div>
    </div>

    <main class="content">
      <section class="tab-panel active" data-panel="skt"><div id="list-skt" class="grid"></div></section>
      <section class="tab-panel" data-panel="kt"><div id="list-kt" class="grid"></div></section>
      <section class="tab-panel" data-panel="lg"><div id="list-lg" class="grid"></div></section>
      <section class="tab-panel" data-panel="internet"><div id="list-internet" class="grid"></div></section>
      <section class="tab-panel" data-panel="mvno"><div id="list-mvno" class="grid"></div></section>
    </main>
  </div>

  <!-- âœ… í•˜ë‹¨ ê³ ì • ë¬¸ì˜ ë°” -->
  <div class="bottom-bar">
    <div class="actions">
      <!-- âš ï¸ ì—¬ê¸° ì „í™”ë²ˆí˜¸/ë¬¸ìë²ˆí˜¸ë§Œ ë„¤ ë²ˆí˜¸ë¡œ ìˆ˜ì • -->
      <a class="act primary" id="btn-call" href="tel:042-821-2272">ğŸ“ ì „í™”</a>
      <a class="act" id="btn-sms" href="sms:010-5839-1512?body=ë³µì§€ê´€2ì¸µ%20íœ´ëŒ€í°%20íŠ¹íŒ%20ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.%0A(ê¸°ì¢…/%20í†µì‹ ì‚¬/%20ë²ˆí˜¸ì´ë™orê¸°ë³€)%20:%20">âœ‰ï¸ ë¬¸ì</a>
      <a class="act kakao" id="kakaoBtn" href="https://open.kakao.com/o/s729bI5h" target="_blank" rel="noopener">ğŸ’¬ ì¹´í†¡</a>
    </div>

    <div class="mini-row">
      <span id="visitText">ë°©ë¬¸: -</span>
      <span><a href="/admin.html" target="_blank" rel="noopener">ê´€ë¦¬ìí˜ì´ì§€</a></span>
    </div>
  </div>

  <script>
    // -----------------------------
    // íƒ­ ì „í™˜
    // -----------------------------
    const tabs=document.querySelectorAll(".tab-btn");
    const panels=document.querySelectorAll(".tab-panel");
    tabs.forEach(b=>b.onclick=()=>{
      tabs.forEach(x=>x.classList.remove("active"));
      panels.forEach(p=>p.classList.remove("active"));
      b.classList.add("active");
      document.querySelector(`[data-panel="${b.dataset.tab}"]`).classList.add("active");
      window.scrollTo({top:0,behavior:"smooth"});
    });

    // -----------------------------
    // ë°©ë¬¸ì ì¹´ìš´íŒ… (ë¡œì»¬ + ì„ íƒ countapi)
    // -----------------------------
    const visitText = document.getElementById("visitText");
    (function visitorCount(){
      const key="visit_count_local";
      const n = Number(localStorage.getItem(key) || "0") + 1;
      localStorage.setItem(key, String(n));
      visitText.textContent = "ì´ ê¸°ê¸° ë°©ë¬¸: " + n;

      // ì „ì„¸ê³„ ê³µìš© ì¹´ìš´íŠ¸(ì›í•˜ë©´ true)
      const USE_COUNTAPI = false;
      const NAMESPACE = "a2272a-github-io";
      const KEY = "main-visits";

      if(USE_COUNTAPI){
        fetch(`https://api.countapi.xyz/hit/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}`)
          .then(r=>r.json())
          .then(j=>{
            if(j && typeof j.value==="number"){
              visitText.textContent = "ì´ ë°©ë¬¸: " + j.value;
            }
          })
          .catch(()=>{});
      }
    })();

    // -----------------------------
    // CSV íŒŒì„œ (ë”°ì˜´í‘œ/ì½¤ë§ˆ ëŒ€ì‘)
    // -----------------------------
    function parseCSV(text){
      const rows = [];
      let row = [], cur = "", inQ = false;

      // BOM ì œê±°
      if (text && text.charCodeAt(0) === 0xFEFF) text = text.slice(1);

      for (let i=0;i<text.length;i++){
        const c = text[i];
        if (c === '"'){
          if (inQ && text[i+1] === '"'){ cur += '"'; i++; }
          else inQ = !inQ;
        } else if (c === ',' && !inQ){
          row.push(cur); cur="";
        } else if ((c === '\n' || c === '\r') && !inQ){
          if (c === '\r' && text[i+1] === '\n') i++;
          row.push(cur);
          if (row.some(v => String(v||"").trim() !== "")) rows.push(row);
          row=[]; cur="";
        } else {
          cur += c;
        }
      }
      if (cur.length || row.length){
        row.push(cur);
        if (row.some(v => String(v||"").trim() !== "")) rows.push(row);
      }
      return rows;
    }

    function esc(s){
      return String(s ?? "").replace(/[&<>"']/g, m => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
      }[m]));
    }

    function normalizeCarrier(c){
      c = (c||"").trim().toLowerCase();
      if (c === "lgu+" || c === "lgu" || c === "lg") return "lg";
      return c; // skt/kt/internet/mvno
    }

    function normalizePriceType(p){
      p = (p||"free").trim().toLowerCase();
      if (p !== "free" && p !== "minus" && p !== "cash") return "free";
      return p;
    }

    // "íŒë§¤ê°€ 39ë§Œì›" / "ì›” 3,300ì›~" / "í˜„ê¸ˆ+ìƒí’ˆê¶Œ ìµœëŒ€ ì§€ê¸‰" ê°™ì€ í…ìŠ¤íŠ¸ë„ ìœ ì§€
    function extractBigPrice(priceText){
      const raw = (priceText||"").trim();
      // ìˆ«ì/ì½¤ë§ˆ ìˆëŠ” ê²½ìš°ë§Œ ìˆ«ì ë½‘ê¸° (ì—†ìœ¼ë©´ ì›ë¬¸ ìœ ì§€)
      const m = raw.match(/-?\d[\d,]*/);
      return m ? m[0] : raw;
    }

    function cardHTML(r){
      const carrier = normalizeCarrier(r.carrier);
      const ptype = normalizePriceType(r.priceType);
      const badges = [r.badge1, r.badge2, r.badge3].map(x => (x||"").trim()).filter(Boolean);

      const bigPrice = extractBigPrice(r.price);
      const priceRaw = (r.price||"").trim();

      return `
        <article class="card pt-${esc(ptype)}">
          <div class="card-topline"></div>
          <div class="card-body">
            <div class="row1">
              <h3 class="title">${esc(r.title || "-")}</h3>
              ${r.tag ? `<div class="tag">${esc(r.tag)}</div>` : ``}
            </div>

            <div class="row2">
              <div>
                <div class="price">${esc(bigPrice)}</div>
                <div class="price-sub">${esc(priceRaw)}</div>
              </div>
              <div class="sub">${esc(r.sub || "")}</div>
            </div>

            ${badges.length ? `
              <div class="badges">
                ${badges.map(b=>`<span class="badge">${esc(b)}</span>`).join("")}
              </div>
            ` : ``}
          </div>
        </article>
      `;
    }

    function setEmpty(el, msg){
      el.innerHTML = `<div class="empty">${esc(msg)}</div>`;
    }

    async function loadAndRender(){
      const targets = {
        skt: document.getElementById("list-skt"),
        kt: document.getElementById("list-kt"),
        lg: document.getElementById("list-lg"),
        internet: document.getElementById("list-internet"),
        mvno: document.getElementById("list-mvno"),
      };
      Object.values(targets).forEach(el => el.innerHTML = "");

      let text = "";
      try{
        const res = await fetch("data.csv?v=" + Date.now(), { cache:"no-store" });
        if(!res.ok) throw new Error("fetch data.csv failed: HTTP " + res.status);
        text = await res.text();
      }catch(e){
        Object.values(targets).forEach(el => setEmpty(el, "data.csv ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: " + e.message));
        return;
      }

      if(!text.trim()){
        Object.values(targets).forEach(el => setEmpty(el, "CSVê°€ ë¹„ì–´ìˆìŒ (data.csv í™•ì¸)"));
        return;
      }

      const table = parseCSV(text);
      if(table.length < 2){
        Object.values(targets).forEach(el => setEmpty(el, "CSV ë°ì´í„°ê°€ ë¶€ì¡±í•¨ (í—¤ë”+ë°ì´í„° í•„ìš”)"));
        return;
      }

      const headers = table[0].map(h => (h||"").trim());
      const idx = Object.fromEntries(headers.map((h,i)=>[h,i]));
      const get = (row, key) => (row[idx[key]] ?? "").trim();

      const rows = table.slice(1).map(row => ({
        carrier: normalizeCarrier(get(row,"carrier")),
        title: get(row,"title"),
        tag: get(row,"tag"),
        price: get(row,"price"),
        priceType: get(row,"priceType") || "free",
        sub: get(row,"sub"),
        badge1: get(row,"badge1"),
        badge2: get(row,"badge2"),
        badge3: get(row,"badge3"),
      })).filter(r => r.carrier && r.title);

      const grouped = {skt:[], kt:[], lg:[], internet:[], mvno:[]};
      rows.forEach(r => { if(grouped[r.carrier]) grouped[r.carrier].push(r); });

      for (const k of Object.keys(grouped)){
        const el = targets[k];
        const items = grouped[k];
        if(!items.length) setEmpty(el, "ë“±ë¡ëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤. (admin.htmlì—ì„œ data.csvë¥¼ ì±„ì›Œì£¼ì„¸ìš”)");
        else el.innerHTML = items.map(cardHTML).join("");
      }
    }

    loadAndRender();

    // -----------------------------
    // í”„ë¡œëª¨ì…˜ ë°” í´ë¦­ â†’ ì¹´í†¡ ë²„íŠ¼ ë°˜ì§ + ì•„ë˜ë¡œ ì´ë™ + (ì›í•˜ë©´) ì¹´í†¡ ë§í¬ë„ ì—´ê¸°
    // -----------------------------
    (function(){
      const promo = document.getElementById("promoBar");
      const kakao = document.getElementById("kakaoBtn");
      if(!promo || !kakao) return;

      promo.addEventListener("click", ()=>{
        // 1) í•˜ë‹¨ìœ¼ë¡œ ë‚´ë ¤ì„œ ì¹´í†¡ ë²„íŠ¼ ë³´ì´ê²Œ
        window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });

        // 2) ë°˜ì§ ì• ë‹ˆë©”ì´ì…˜
        kakao.classList.remove("kakao-sparkle");
        void kakao.offsetWidth;
        kakao.classList.add("kakao-sparkle");
        setTimeout(()=>kakao.classList.remove("kakao-sparkle"), 2000);

        // 3) ë°”ë¡œ ì¹´í†¡ ì—´ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
        // window.open("https://open.kakao.com/o/s729bI5h", "_blank");
      });
    })();

    // -----------------------------
    // service worker ë“±ë¡ (ìˆìœ¼ë©´)
    // -----------------------------
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
