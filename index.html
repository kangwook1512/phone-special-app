<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° íŠ¹íŒ ì•ˆë‚´</title>
  <meta name="description" content="ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° ë§¤ì¥ íŠ¹íŒ ì „ìš© ì‚¬ì´íŠ¸. SKÂ·KTÂ·LG íœ´ëŒ€í° íŠ¹íŒ, ì¸í„°ë„·Â·TV í˜„ê¸ˆ ì§€ì›, ì•Œëœ°ìš”ê¸ˆ 3,300ì›~ ì‹¤ì‹œê°„ ì•ˆë‚´." />
  <link rel="canonical" href="https://a2272a.github.io/" />
  <meta name="robots" content="index,follow" />

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#111827"/>

  <style>
    :root{
      --ink:#0b1220;
      --sub:#334155;
      --muted:#64748b;

      --bg:#f7fbff;
      --card:#ffffff;
      --line:rgba(15,23,42,0.10);

      --hot:#ef4444;
      --hot2:#f97316;

      --blue:#2563eb;
      --blue2:#0ea5e9;

      --kakao:#fee500;
      --kakaoBorder:#facc15;

      --shadow: 0 14px 30px rgba(15,23,42,0.10);
      --shadow2: 0 8px 18px rgba(15,23,42,0.09);
      --radius:22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,'Noto Sans KR',sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 520px at 10% 0%, rgba(239,68,68,0.12) 0%, rgba(239,68,68,0) 55%),
        radial-gradient(900px 460px at 95% 20%, rgba(14,165,233,0.10) 0%, rgba(14,165,233,0) 60%),
        linear-gradient(180deg, #fff 0%, var(--bg) 45%, #fff 100%);
    }

    .app{
      width:100%;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    @media(min-width:1100px){
      .app{
        max-width:1100px;
        margin:18px auto;
        border-radius:28px;
        overflow:hidden;
        background:#fff;
        box-shadow:0 26px 60px rgba(15,23,42,0.14);
      }
    }

    /* =========================
       âœ… ëª¨ë°”ì¼ ìµœìš°ì„ : í—¤ë”(ê°„íŒ) ìµœëŒ€í•œ ì‘ê²Œ
       ========================= */
    .top{
      position:sticky;
      top:0;
      z-index:300;
      padding:10px 12px 10px;
      background: linear-gradient(135deg, #0b1220 0%, #111827 55%, #0b1220 100%);
      color:#fff;
      border-bottom:1px solid rgba(255,255,255,0.10);
    }
    .top.shrink{
      padding:6px 12px 6px;
    }
    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .logo{
      width:30px; height:30px;
      border-radius:12px;
      background:linear-gradient(135deg, rgba(239,68,68,1), rgba(14,165,233,1));
      box-shadow:0 10px 22px rgba(0,0,0,0.25);
      flex:0 0 auto;
    }
    .titlewrap{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .title{
      margin:0;
      font-size:18px;
      font-weight:1000;
      letter-spacing:-0.04em;
      line-height:1.05;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .top.shrink .title{ font-size:16px; }

    .subtitle{
      font-size:12px;
      font-weight:900;
      color:rgba(255,255,255,0.82);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .top.shrink .subtitle{ display:none; } /* ìŠ¤í¬ë¡¤í•˜ë©´ ì„œë¸Œ ìˆ¨ê²¨ì„œ ê³µê°„ í™•ë³´ */

    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:7px 10px;
      border-radius:999px;
      font-weight:1000;
      font-size:12px;
      background:rgba(255,255,255,0.10);
      border:1px solid rgba(255,255,255,0.14);
      white-space:nowrap;
      flex:0 0 auto;
    }
    .chip.hot{
      background:linear-gradient(135deg, rgba(239,68,68,1) 0%, rgba(249,115,22,1) 100%);
      border:none;
      box-shadow:0 10px 24px rgba(239,68,68,0.20);
    }
    .top.shrink .chip{ padding:6px 9px; }

    /* =========================
       âœ… ì¹´í…Œê³ ë¦¬(í•œ ëˆˆì—, í•˜ì§€ë§Œ ë‹µë‹µí•˜ì§€ ì•Šê²Œ)
       ========================= */
    .catbar{
      position:sticky;
      top:58px;          /* í—¤ë” ë†’ì´ ê³ ë ¤(ëŒ€ëµ) */
      z-index:250;
      background:rgba(255,255,255,0.96);
      backdrop-filter: blur(10px) saturate(180%);
      border-bottom:1px solid var(--line);
      padding:8px 10px;
    }
    .cats{
      display:flex;
      gap:8px;
      overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding-bottom:2px;
    }
    .cats::-webkit-scrollbar{ display:none; }

    .cat{
      flex:0 0 auto;
      border:none;
      cursor:pointer;
      padding:10px 12px;
      border-radius:999px;
      font-weight:1000;
      font-size:13px;
      background:#fff;
      color:#0b1220;
      border:1px solid rgba(15,23,42,0.12);
      box-shadow: var(--shadow2);
      white-space:nowrap;
    }
    .cat.active{
      color:#fff;
      border-color: rgba(239,68,68,0.35);
      background: linear-gradient(135deg, rgba(239,68,68,1) 0%, rgba(249,115,22,1) 55%, rgba(14,165,233,1) 100%);
      box-shadow:0 14px 24px rgba(239,68,68,0.16);
    }
    .cat.film{
      border-color: rgba(250,204,21,0.65);
    }
    .cat.film.active{
      background: linear-gradient(135deg, rgba(254,229,0,1) 0%, rgba(253,224,71,1) 60%, rgba(255,255,255,1) 100%);
      color:#0b1220;
      border-color: rgba(250,204,21,0.9);
      box-shadow:0 14px 24px rgba(250,204,21,0.16);
    }

    .content{ padding:12px 12px 22px; }
    .tab-panel{ display:none; }
    .tab-panel.active{ display:block; }

    /* =========================
       âœ… â€œì „ë¶€ ì¶”ê°€â€: ì²« í™”ë©´ TOP3 íŠ¹ê°€(í™ˆì‡¼í•‘ í•µì‹¬)
       ========================= */
    .hero-deals{
      margin: 10px 0 12px;
      background: linear-gradient(135deg, rgba(239,68,68,0.10) 0%, rgba(14,165,233,0.10) 100%);
      border:1px solid rgba(15,23,42,0.10);
      border-radius: var(--radius);
      padding:12px;
      box-shadow: var(--shadow2);
    }
    .hero-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .hero-title{
      font-weight:1000;
      letter-spacing:-0.04em;
      font-size:16px;
    }
    .hero-badge{
      font-size:12px;
      font-weight:1000;
      padding:7px 10px;
      border-radius:999px;
      background:linear-gradient(135deg, rgba(239,68,68,1), rgba(249,115,22,1));
      color:#fff;
      box-shadow:0 10px 18px rgba(239,68,68,0.18);
      white-space:nowrap;
    }

    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
    }
    @media(min-width:720px){ .grid{ grid-template-columns:1fr 1fr; } }
    @media(min-width:1020px){ .grid{ grid-template-columns:1fr 1fr 1fr; } }

    /* =========================
       âœ… ì¹´ë“œ(ëª¨ë°”ì¼ ë³´ê¸° í¸í•˜ê²Œ: ë†’ì´ ì¤„ì´ê³  ê°€ê²©ì€ ë” í¬ê²Œ)
       ========================= */
    .card{
      background:var(--card);
      border:1px solid rgba(15,23,42,0.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .bar{
      height:7px;
      background:linear-gradient(90deg, rgba(239,68,68,1) 0%, rgba(249,115,22,1) 60%, rgba(14,165,233,1) 100%);
    }
    .card-body{ padding:14px 14px 12px; }

    .row1{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }
    .c-title{
      margin:0;
      font-size:18px;
      font-weight:1000;
      letter-spacing:-0.04em;
      line-height:1.1;
    }
    .tag{
      font-size:12px;
      font-weight:1000;
      padding:7px 9px;
      border-radius:999px;
      border:1px solid rgba(15,23,42,0.12);
      background:#f1f5f9;
      color:#0b1220;
      white-space:nowrap;
      flex:0 0 auto;
    }

    .row2{
      margin-top:10px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
    }
    .price{
      font-size:52px;
      font-weight:1000;
      letter-spacing:-0.06em;
      line-height:0.92;
      margin:0;
    }
    .sub{
      text-align:right;
      font-weight:1000;
      font-size:13px;
      line-height:1.2;
      color:#0f172a;
    }

    /* âœ… â€œíŒë§¤ê°€â€ ê°™ì€ ë¬¸êµ¬ëŠ” ì‘ê²Œ/ì •ë¦¬ */
    .price-sub{
      margin-top:6px;
      font-size:12px;
      font-weight:900;
      color:var(--muted);
    }

    .badges{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .badge{
      font-size:12px;
      font-weight:1000;
      padding:7px 9px;
      border-radius:12px;
      border:1px solid rgba(15,23,42,0.12);
      background:#fff;
      color:#0f172a;
    }

    /* âœ… ì´ˆíŠ¹ê°€ ìŠ¤í‹°ì»¤(0ì›/ë§ˆì´ë„ˆìŠ¤ ìë™) */
    .sticker{
      position:absolute;
      top:10px; left:10px;
      padding:7px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:1000;
      color:#fff;
      background:linear-gradient(135deg, rgba(239,68,68,1), rgba(249,115,22,1));
      box-shadow:0 12px 22px rgba(239,68,68,0.22);
      border:1px solid rgba(255,255,255,0.20);
    }
    .sticker.blue{
      background:linear-gradient(135deg, rgba(37,99,235,1), rgba(14,165,233,1));
      box-shadow:0 12px 22px rgba(37,99,235,0.18);
    }

    .pt-minus .price{ color: var(--hot); }
    .pt-cash  .price{ color: #f59e0b; }

    .empty{
      padding:16px;
      border:1px dashed rgba(15,23,42,0.20);
      border-radius:18px;
      color:#475569;
      background:rgba(255,255,255,0.6);
      font-weight:1000;
    }

    /* ì•¡ì •í•„ë¦„ íƒ­ ì „ìš© ì¹´ë“œ */
    .film-card{ border:1px solid rgba(250,204,21,0.65); }
    .film-card .bar{
      background:linear-gradient(90deg, rgba(254,229,0,1) 0%, rgba(253,224,71,1) 80%);
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:12px 14px;
      border-radius:14px;
      font-weight:1000;
      text-decoration:none;
      border:1px solid rgba(15,23,42,0.12);
      background:#fff;
      color:#0b1220;
      box-shadow: var(--shadow2);
    }
    .btn.kakao{
      background:var(--kakao);
      border-color:var(--kakaoBorder);
    }

    /* ë°©ë¬¸í‘œì‹œëŠ” ì•„ì£¼ ì‘ê²Œ(ë°©í•´ X) */
    .footnote{
      margin-top:12px;
      font-size:12px;
      font-weight:900;
      color:var(--muted);
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="app">

    <!-- âœ… ê°„íŒ(ì‘ê²Œ) -->
    <header class="top" id="topbar">
      <div class="topline">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div class="titlewrap">
            <h1 class="title">ë³µì§€ê´€ 2ì¸µ íœ´ëŒ€í° íŠ¹íŒ ì•ˆë‚´</h1>
            <div class="subtitle">SKÂ·KTÂ·LG / ì¸í„°ë„·Â·TV / ì•Œëœ°ìš”ê¸ˆì œ / ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´</div>
          </div>
        </div>
        <div class="chip hot">ğŸ”¥ íŠ¹íŒ</div>
      </div>
    </header>

    <!-- âœ… ì¹´í…Œê³ ë¦¬ (ê°€ë¡œ ìŠ¤í¬ë¡¤: ë†’ì´ ìµœì†Œí™”) -->
    <div class="catbar">
      <div class="cats">
        <button class="cat active" data-tab="skt">SKT</button>
        <button class="cat" data-tab="kt">KT</button>
        <button class="cat" data-tab="lg">LGU+</button>
        <button class="cat" data-tab="internet">ì¸í„°ë„·Â·TV</button>
        <button class="cat" data-tab="mvno">ì•Œëœ°ìš”ê¸ˆì œ</button>
        <button class="cat film" data-tab="film">ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´</button>
      </div>
    </div>

    <main class="content">

      <!-- âœ… ì „ë¶€ ì¶”ê°€: ì²« í™”ë©´ TOP3 íŠ¹ê°€(ì „ì²´ì—ì„œ ìë™ ì„ ë³„) -->
      <section class="hero-deals" id="heroDeals" style="display:none;">
        <div class="hero-row">
          <div class="hero-title">ì˜¤ëŠ˜ í•µì‹¬ íŠ¹ê°€ TOP 3</div>
          <div class="hero-badge">ì§€ê¸ˆ í™•ì¸</div>
        </div>
        <div class="grid" id="heroGrid"></div>
      </section>

      <section class="tab-panel active" data-panel="skt"><div id="list-skt" class="grid"></div></section>
      <section class="tab-panel" data-panel="kt"><div id="list-kt" class="grid"></div></section>
      <section class="tab-panel" data-panel="lg"><div id="list-lg" class="grid"></div></section>
      <section class="tab-panel" data-panel="internet"><div id="list-internet" class="grid"></div></section>
      <section class="tab-panel" data-panel="mvno"><div id="list-mvno" class="grid"></div></section>
      <section class="tab-panel" data-panel="film"><div id="list-film" class="grid"></div></section>

      <div class="footnote" id="visitText">ë°©ë¬¸: -</div>
    </main>
  </div>

  <script>
    // âœ… ìŠ¤í¬ë¡¤ ì‹œ í—¤ë” ë” ì‘ê²Œ(ëª¨ë°”ì¼ ê³µê°„ í™•ë³´)
    const topbar = document.getElementById("topbar");
    window.addEventListener("scroll", () => {
      if (window.scrollY > 18) topbar.classList.add("shrink");
      else topbar.classList.remove("shrink");
    });

    // íƒ­ ì „í™˜
    const cats = document.querySelectorAll(".cat");
    const panels = document.querySelectorAll(".tab-panel");
    cats.forEach(b => b.onclick = () => {
      cats.forEach(x => x.classList.remove("active"));
      panels.forEach(p => p.classList.remove("active"));
      b.classList.add("active");
      document.querySelector(`[data-panel="${b.dataset.tab}"]`).classList.add("active");
      b.scrollIntoView({behavior:"smooth", inline:"center", block:"nearest"});
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // ë°©ë¬¸ ì¹´ìš´íŠ¸(í˜„ì¬ëŠ” "ì´ ê¸°ê¸°"ë§Œ / ë°©í•´ ì•ˆ ë˜ê²Œ ì‘ê²Œ)
    const visitText = document.getElementById("visitText");
    (function visitorCount(){
      const key="visit_count_local";
      const n = Number(localStorage.getItem(key) || "0") + 1;
      localStorage.setItem(key, String(n));
      visitText.textContent = "ì´ ê¸°ê¸° ë°©ë¬¸: " + n;
    })();

    // CSV íŒŒì„œ(ì•ˆì •í˜•)
    function parseCSV(text){
      const rows = [];
      let row = [], cur = "", inQ = false;
      if (text && text.charCodeAt(0) === 0xFEFF) text = text.slice(1);
      for (let i=0;i<text.length;i++){
        const c = text[i];
        if (c === '"'){
          if (inQ && text[i+1] === '"'){ cur += '"'; i++; }
          else inQ = !inQ;
        } else if (c === ',' && !inQ){
          row.push(cur); cur="";
        } else if ((c === '\n' || c === '\r') && !inQ){
          if (c === '\r' && text[i+1] === '\n') i++;
          row.push(cur);
          if (row.some(v => String(v||"").trim() !== "")) rows.push(row);
          row=[]; cur="";
        } else {
          cur += c;
        }
      }
      if (cur.length || row.length){
        row.push(cur);
        if (row.some(v => String(v||"").trim() !== "")) rows.push(row);
      }
      return rows;
    }

    function esc(s){
      return String(s ?? "").replace(/[&<>"']/g, m => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
      }[m]));
    }
    function normalizeCarrier(c){
      c = (c||"").trim().toLowerCase();
      if (c === "lgu+" || c === "lgu" || c === "lg") return "lg";
      return c;
    }
    function normalizePriceType(p){
      p = (p||"free").trim().toLowerCase();
      if (p !== "free" && p !== "minus" && p !== "cash") return "free";
      return p;
    }

    // "íŒë§¤ê°€" ê°™ì€ ë¬¸êµ¬ ì œê±°í•´ì„œ ëœ ì§€ì €ë¶„í•˜ê²Œ
    function cleanPriceText(s){
      return (s||"")
        .replace(/íŒë§¤ê°€\s*/g, "")
        .replace(/\s{2,}/g, " ")
        .trim();
    }

    function extractBigPrice(priceText){
      const raw = (priceText||"").trim();
      const m = raw.match(/-?\d[\d,]*/);
      return m ? m[0] : raw;
    }

    function isZeroOrMinus(r){
      const ptype = normalizePriceType(r.priceType);
      const big = extractBigPrice(r.price);
      const n = Number(String(big).replace(/,/g,""));
      if (ptype === "minus") return true;
      if (!isNaN(n) && n <= 0) return true;
      // í˜¹ì‹œ ë¬¸ìì—´ì— "0ì›" í¬í•¨ëœ ê²½ìš°
      if ((r.price||"").includes("0ì›")) return true;
      return false;
    }

    // TOP3 íŠ¹ê°€ ì„ ì •(í™ˆì‡¼í•‘ ëŠë‚Œ)
    function scoreRow(r){
      // minus(ìµœìš°ì„ ) > 0ì› > ë‚®ì€ ê¸ˆì•¡ > ê¸°íƒ€
      const ptype = normalizePriceType(r.priceType);
      const big = extractBigPrice(r.price);
      const n = Number(String(big).replace(/,/g,""));
      let score = 0;

      if (ptype === "minus") score += 1000000;
      if (!isNaN(n)) {
        if (n <= 0) score += 900000;
        score += Math.max(0, 500000 - Math.min(500000, n)); // ë‚®ì„ìˆ˜ë¡ ì ìˆ˜â†‘
      } else {
        score += 1000;
      }

      // ì¸í„°ë„·/ì•Œëœ°ì€ â€œê°€ê²© ë¹„êµâ€ ì„±ê²©ì´ë¼ TOP3ì—ëŠ” ë³´í†µ ì œì™¸(ì›í•˜ë©´ ë°”ê¿”ì¤Œ)
      if (r.carrier === "internet" || r.carrier === "mvno") score -= 200000;

      return score;
    }

    function stickerHTML(r){
      if (normalizePriceType(r.priceType) === "minus") return `<div class="sticker">ì´ˆíŠ¹ê°€</div>`;
      const big = extractBigPrice(r.price);
      const n = Number(String(big).replace(/,/g,""));
      if (!isNaN(n) && n === 0) return `<div class="sticker blue">0ì›</div>`;
      if (!isNaN(n) && n < 0) return `<div class="sticker">ë§ˆì´ë„ˆìŠ¤</div>`;
      return "";
    }

    function cardHTML(r){
      const ptype = normalizePriceType(r.priceType);
      const badges = [r.badge1, r.badge2, r.badge3].map(x => (x||"").trim()).filter(Boolean);
      const bigPrice = extractBigPrice(r.price);
      const priceRaw = cleanPriceText(r.price);

      return `
        <article class="card pt-${esc(ptype)}">
          <div class="bar"></div>
          ${stickerHTML(r)}
          <div class="card-body">
            <div class="row1">
              <h3 class="c-title">${esc(r.title || "-")}</h3>
              ${r.tag ? `<div class="tag">${esc(r.tag)}</div>` : ``}
            </div>

            <div class="row2">
              <div>
                <div class="price">${esc(bigPrice)}</div>
                ${priceRaw ? `<div class="price-sub">${esc(priceRaw)}</div>` : ``}
              </div>
              <div class="sub">${esc(r.sub || "")}</div>
            </div>

            ${badges.length ? `
              <div class="badges">
                ${badges.map(b=>`<span class="badge">${esc(b)}</span>`).join("")}
              </div>
            ` : ``}
          </div>
        </article>
      `;
    }

    function setEmpty(el, msg){
      el.innerHTML = `<div class="empty">${esc(msg)}</div>`;
    }

    async function loadAndRender(){
      const elSKT = document.getElementById("list-skt");
      const elKT = document.getElementById("list-kt");
      const elLG = document.getElementById("list-lg");
      const elInternet = document.getElementById("list-internet");
      const elMvno = document.getElementById("list-mvno");
      const elFilm = document.getElementById("list-film");

      const heroDeals = document.getElementById("heroDeals");
      const heroGrid = document.getElementById("heroGrid");

      [elSKT, elKT, elLG, elInternet, elMvno, elFilm].forEach(el => el.innerHTML="");
      heroGrid.innerHTML = "";
      heroDeals.style.display = "none";

      let text = "";
      try{
        const res = await fetch("data.csv?v=" + Date.now(), { cache:"no-store" });
        if(!res.ok) throw new Error("HTTP " + res.status);
        text = await res.text();
      }catch(e){
        [elSKT, elKT, elLG, elInternet, elMvno].forEach(el => setEmpty(el, "data.csv ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: " + e.message));
      }

      let rowsAll = [];
      if(text && text.trim()){
        const table = parseCSV(text);
        if(table.length >= 2){
          const headers = table[0].map(h => (h||"").trim());
          const idx = Object.fromEntries(headers.map((h,i)=>[h,i]));
          const get = (row, key) => (row[idx[key]] ?? "").trim();

          rowsAll = table.slice(1).map(row => ({
            carrier: normalizeCarrier(get(row,"carrier")),
            title: get(row,"title"),
            tag: get(row,"tag"),
            price: get(row,"price"),
            priceType: get(row,"priceType") || "free",
            sub: get(row,"sub"),
            badge1: get(row,"badge1"),
            badge2: get(row,"badge2"),
            badge3: get(row,"badge3"),
          })).filter(r => r.carrier && r.title);

          // âœ… TOP3 íŠ¹ê°€
          const top3 = [...rowsAll]
            .filter(r => r.carrier !== "film")
            .sort((a,b)=> scoreRow(b) - scoreRow(a))
            .slice(0,3);

          if (top3.length){
            heroDeals.style.display = "block";
            heroGrid.innerHTML = top3.map(cardHTML).join("");
          }

          const skt = rowsAll.filter(r=>r.carrier==="skt");
          const kt = rowsAll.filter(r=>r.carrier==="kt");
          const lg = rowsAll.filter(r=>r.carrier==="lg");
          const internet = rowsAll.filter(r=>r.carrier==="internet");
          const mvno = rowsAll.filter(r=>r.carrier==="mvno");

          if(!skt.length) setEmpty(elSKT, "ë“±ë¡ëœ SKT í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.");
          else elSKT.innerHTML = skt.map(cardHTML).join("");

          if(!kt.length) setEmpty(elKT, "ë“±ë¡ëœ KT í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.");
          else elKT.innerHTML = kt.map(cardHTML).join("");

          if(!lg.length) setEmpty(elLG, "ë“±ë¡ëœ LGU+ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.");
          else elLG.innerHTML = lg.map(cardHTML).join("");

          if(!internet.length) setEmpty(elInternet, "ì¸í„°ë„·Â·TV í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.");
          else elInternet.innerHTML = internet.map(cardHTML).join("");

          if(!mvno.length) setEmpty(elMvno, "ì•Œëœ°ìš”ê¸ˆì œ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.");
          else elMvno.innerHTML = mvno.map(cardHTML).join("");

        } else {
          [elSKT, elKT, elLG, elInternet, elMvno].forEach(el => setEmpty(el, "CSV ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤(í—¤ë”+ë°ì´í„° í•„ìš”)."));
        }
      } else {
        [elSKT, elKT, elLG, elInternet, elMvno].forEach(el => {
          if(!el.innerHTML) setEmpty(el, "CSVê°€ ë¹„ì–´ìˆìŒ (data.csv í™•ì¸)");
        });
      }

      // âœ… ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´: ë²ˆí˜¸ ì—†ì´, ì¹´í†¡ ë²„íŠ¼ë§Œ
      elFilm.innerHTML = `
        <article class="card film-card">
          <div class="bar"></div>
          <div class="card-body">
            <div class="row1">
              <h3 class="c-title">ì•¡ì •í•„ë¦„ë¬´ë£Œêµì²´</h3>
              <div class="tag">ì¹´í†¡ ì£¼ë¬¸</div>
            </div>
            <div class="row2">
              <div>
                <div class="price">ë¬´ë£Œ</div>
                <div class="price-sub">ì¹´í†¡ìœ¼ë¡œ ì£¼ë¬¸ í›„ ë§¤ì¥ ë°©ë¬¸ ì¶”ì²œ</div>
              </div>
              <div class="sub">ì¬ê³ /ê¸°ì¢… í™•ì¸<br/>í›„ ë°©ë¬¸í•˜ë©´ ë¹ ë¦„</div>
            </div>

            <div class="badges">
              <a class="btn kakao" href="https://open.kakao.com/o/s729bI5h" target="_blank" rel="noopener">ì¹´í†¡ìœ¼ë¡œ ì£¼ë¬¸í•˜ê¸°</a>
            </div>
          </div>
        </article>
      `;
    }

    loadAndRender();

    // service worker (ìˆìœ¼ë©´)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
